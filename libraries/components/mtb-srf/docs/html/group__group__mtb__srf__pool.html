<!-- HTML header for doxygen 1.8.13-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.9.2"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Secure Request Framework</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen_style.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><a href="http://www.cypress.com/"><img alt="Logo" src="logo.png"/></a></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Secure Request Framework</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.2 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search",'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(document).ready(function(){initNavTree('group__group__mtb__srf__pool.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#define-members">Macros</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle"><div class="title">Secure Request Pool Library</div></div>
</div><!--header-->
<div class="contents">
<a name="details" id="details"></a><h2 class="groupheader">General Description</h2>
<p >Secure Request Pool Library provides an implementation of secure request pool mtb_srf_pool_t, which is composed of multiple secure request objects <a class="el" href="group__group__mtb__srf__structures.html#structmtb__srf__request__ns__t" title="Secure request description structure.">mtb_srf_request_ns_t</a>. </p>
<p >Secure request objects need to be accessible by both the secure and non-secure world. In practice, this means that they should be allocated out of the "shared memory" region rather than e.g. off the stack. This, in turn, means that any RAM which is allocated for secure request pool description struct mtb_srf_pool_t is statically allocated for the lifetime of the program. Therefore, it would be inefficient for every secure request client to allocate its own secure request object. There needs to be a means for sharing. This need is satisfied by a secure request pool, which allows multiple secure request clients to share a small number of pre-allocated secure request pool description struct. A secure request pool is specific to a particular non-secure processing environment. I.e. in a system where both the CM33_NS and the CM55 are making secure requests, there would be two secure request pools, one for the CM33_NS and one for the CM55. Usage of this mechanism is optional. If needed to satisfy some special case, a secure request client can allocate their own custom secure request object and use that instead.</p>
<p ><b>Features:</b></p><ul>
<li>Secure request pool initialization can be performed.</li>
<li>Secure reqest object can be allocated or freed.</li>
</ul>
<h1><a class="anchor" id="group_mtb_srf_pool_prerequisites"></a>
Prerequisites</h1>
<p >There are three parameters which define a secure request pool:</p><ul>
<li>Maximum input argument count MTB_SRF_MAX_ARG_IN_SIZE: This will default to 5.</li>
<li>Maximum output argument count MTB_SRF_MAX_ARG_OUT_SIZE: This will default to 1 because most functions return only one value, but is left configurable for flexibility and future proofing.</li>
<li>Number of requests allocated MTB_SRF_POOL_SIZE: This determines the number of requests that can be pending in parallel (if the system is configured to permit non-secure threads or interrupts to pre-empt secure processing). This will default to 3 in RTOS-aware usage, and 1 otherwise. A default secure request pool is created during initialization of the secure request context, and uses the values described in the previous section. These values can be overridden by defining the corresponding macro in mtb_srf_config.h</li>
</ul>
<p >Pool initialization can be performed explicitly via the mtb_srf_pool_init function.</p>
<p >A secure request pool consolidates three user-provided memory allocations:</p><ul>
<li>Array of pre-allocated secure request description structs</li>
<li>Array that can be used to store input arguments</li>
<li>Array that can be used to store output arguments.</li>
</ul>
<p >The input and output argument arrays are shared equally between all requests in the pool. For example, if a secure reqest pool contains three entries and args_in_length is 12, then each secure request would support up to 4 input arguments. The benefit is that the pool initialization process is simpler because there are fewer allocations required</p>
<p >A default pool is defined in the BSP and initialized as part of the non-secure application initialization. This default pool is expected to be sufficient for the majority of uses cases, so users should generally not need to do any manual allocation or management of pools. </p><dl class="section note"><dt>Note</dt><dd>the default secure request pool setup is only performed when we are not running in the secure world. This is because the secure request pools are the means by which the non-secure world submits requests to the secure world. There would be no reason for the secure world to submit a request to itself.</dd></dl>
<p>Secure request object allocation is performed via the mtb_srf_pool_allocate function. Secure request object free is performed via the mtb_srf_pool_free function.</p>
<h1><a class="anchor" id="group_mtb_srf_pool_code_snippets"></a>
Code Snippets</h1>
<p >Init sequence for secure request pool </p><div class="fragment"><div class="line"><span class="preprocessor">#define MY_INPUT_ARRAY_SIZE (6UL) </span><span class="comment">// Means 6 bytes</span></div>
<div class="line"><span class="preprocessor">#define MY_OUTPUT_ARRAY_SIZE (2UL) </span><span class="comment">// Means 2 bytes</span></div>
<div class="line"><span class="preprocessor">#define MY_NUM_REQ_IN_POOL (6UL)</span></div>
<div class="line">CY_SECTION_SHAREDMEM mtb_srf_pool_t pool;</div>
<div class="line">CY_SECTION_SHAREDMEM <span class="keyword">static</span> uint32_t pool_memory[(<a class="code hl_define" href="group__group__mtb__srf__pool__init.html#ga4cbdbc032d8d67f0ddf312c108b5a013">MTB_SRF_POOL_ENTRY_SIZE</a>(MTB_SRF_MAX_ARG_IN_SIZE,</div>
<div class="line">                                                                          MTB_SRF_MAX_ARG_OUT_SIZE)</div>
<div class="line">                                                  * MTB_SRF_POOL_SIZE) / <span class="keyword">sizeof</span>(uint32_t)];</div>
<div class="line"> </div>
<div class="line"><span class="comment">//--------------------------------------------------------------------------------------------------</span></div>
<div class="line"><span class="comment">// snippet_mtb_srf_pool_init_api</span></div>
<div class="line"><span class="comment">//--------------------------------------------------------------------------------------------------</span></div>
<div class="line">cy_rslt_t snippet_mtb_srf_pool_init_api(<span class="keywordtype">void</span>)</div>
<div class="line">{</div>
<div class="line">    cy_rslt_t result = CY_RSLT_SUCCESS;</div>
<div class="line">    <span class="comment">// Other initialization steps</span></div>
<div class="line"> </div>
<div class="line">    result = <a class="code hl_function" href="group__group__mtb__srf__pool__init.html#ga4656949c083236dd8f93fa2cc347fb97">mtb_srf_pool_init</a>(&amp;pool,</div>
<div class="line">                               &amp;pool_memory[0],</div>
<div class="line">                               MY_NUM_REQ_IN_POOL,</div>
<div class="line">                               MY_INPUT_ARRAY_SIZE,</div>
<div class="line">                               MY_OUTPUT_ARRAY_SIZE);</div>
<div class="line"> </div>
<div class="line">    (void)result;</div>
<div class="line">    <span class="keywordflow">return</span> result;</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line"> </div>
<div class="ttc" id="agroup__group__mtb__srf__pool__init_html_ga4656949c083236dd8f93fa2cc347fb97"><div class="ttname"><a href="group__group__mtb__srf__pool__init.html#ga4656949c083236dd8f93fa2cc347fb97">mtb_srf_pool_init</a></div><div class="ttdeci">cy_rslt_t mtb_srf_pool_init(mtb_srf_pool_t *pool, uint32_t *allocated_mem, size_t num_entries, size_t input_len_per_entry, size_t output_len_per_entry)</div><div class="ttdoc">Initializes an secure request pool instance.</div><div class="ttdef"><b>Definition:</b> mtb_srf_pool.c:65</div></div>
<div class="ttc" id="agroup__group__mtb__srf__pool__init_html_ga4cbdbc032d8d67f0ddf312c108b5a013"><div class="ttname"><a href="group__group__mtb__srf__pool__init.html#ga4cbdbc032d8d67f0ddf312c108b5a013">MTB_SRF_POOL_ENTRY_SIZE</a></div><div class="ttdeci">#define MTB_SRF_POOL_ENTRY_SIZE(input_values_length, output_values_length)</div><div class="ttdoc">A tool to calculate how much memory to provide for a pool.</div><div class="ttdef"><b>Definition:</b> mtb_srf_pool_init.h:63</div></div>
</div><!-- fragment --><p >Allocation/Free operation </p><div class="fragment"><div class="line">cy_rslt_t snippet_mtb_srf_pool_allocate_free_api(<span class="keywordtype">void</span>)</div>
<div class="line">{</div>
<div class="line">    cy_rslt_t result = CY_RSLT_SUCCESS;</div>
<div class="line"> </div>
<div class="line">    <span class="comment">// Assuming an already initialized request pool</span></div>
<div class="line"> </div>
<div class="line">    <a class="code hl_struct" href="group__group__mtb__srf__structures.html#structmtb__srf__invec__ns__t">mtb_srf_invec_ns_t</a>* inVec = NULL;</div>
<div class="line">    <a class="code hl_struct" href="group__group__mtb__srf__structures.html#structmtb__srf__outvec__ns__t">mtb_srf_outvec_ns_t</a>* outVec = NULL;</div>
<div class="line">    uint8_t inVec_cnt = 1;</div>
<div class="line">    uint8_t outVec_cnt = 1;</div>
<div class="line"> </div>
<div class="line">    <span class="comment">// If it is in ISR, timeout_us should be zero.</span></div>
<div class="line">    uint32_t timeout_us = 2000;</div>
<div class="line"> </div>
<div class="line">    result = <a class="code hl_function" href="group__group__mtb__srf__pool.html#ga4b50f4d61fcf862d51dbeee70f46bac6">mtb_srf_pool_allocate</a>(&amp;cy_pdl_srf_default_pool, &amp;inVec, &amp;outVec, timeout_us);</div>
<div class="line">    <span class="keywordflow">if</span> (result != CY_RSLT_SUCCESS)</div>
<div class="line">    {</div>
<div class="line">        <span class="keywordflow">return</span> result;</div>
<div class="line">    }</div>
<div class="line"> </div>
<div class="line">    <span class="comment">// Populate the mtb_srf_request_ns_t structure, then submit it</span></div>
<div class="line">    <span class="comment">// See snippet_mtb_srf_submit_request_api for example on population</span></div>
<div class="line">    result = <a class="code hl_function" href="group__group__mtb__srf.html#gab26cb37c7cd980689eb5f49a308b4595">mtb_srf_request_submit</a>(inVec, inVec_cnt, outVec, outVec_cnt);</div>
<div class="line"> </div>
<div class="line">    <span class="comment">// Free to allow other assets to reuse the memory</span></div>
<div class="line">    result = <a class="code hl_function" href="group__group__mtb__srf__pool.html#gad62a0344db708f9f44881b878df618b5">mtb_srf_pool_free</a>(&amp;cy_pdl_srf_default_pool, inVec, outVec);</div>
<div class="line"> </div>
<div class="line">    <span class="keywordflow">return</span> result;</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line"> </div>
<div class="ttc" id="agroup__group__mtb__srf__pool_html_ga4b50f4d61fcf862d51dbeee70f46bac6"><div class="ttname"><a href="group__group__mtb__srf__pool.html#ga4b50f4d61fcf862d51dbeee70f46bac6">mtb_srf_pool_allocate</a></div><div class="ttdeci">cy_rslt_t mtb_srf_pool_allocate(mtb_srf_pool_t *pool, mtb_srf_invec_ns_t **inVec, mtb_srf_outvec_ns_t **outVec, uint32_t timeout_us)</div><div class="ttdoc">Allocate secure request object within an secure request pool.</div><div class="ttdef"><b>Definition:</b> mtb_srf_pool.c:96</div></div>
<div class="ttc" id="agroup__group__mtb__srf__pool_html_gad62a0344db708f9f44881b878df618b5"><div class="ttname"><a href="group__group__mtb__srf__pool.html#gad62a0344db708f9f44881b878df618b5">mtb_srf_pool_free</a></div><div class="ttdeci">cy_rslt_t mtb_srf_pool_free(mtb_srf_pool_t *pool, const mtb_srf_invec_ns_t *inVec, const mtb_srf_outvec_ns_t *outVec)</div><div class="ttdoc">Free secure request object within an secure request pool.</div><div class="ttdef"><b>Definition:</b> mtb_srf_pool.c:169</div></div>
<div class="ttc" id="agroup__group__mtb__srf__structures_html_structmtb__srf__invec__ns__t"><div class="ttname"><a href="group__group__mtb__srf__structures.html#structmtb__srf__invec__ns__t">mtb_srf_invec_ns_t</a></div><div class="ttdoc">An input vector - a section of memory to be used along with the length.</div><div class="ttdef"><b>Definition:</b> mtb_srf_iovec.h:64</div></div>
<div class="ttc" id="agroup__group__mtb__srf__structures_html_structmtb__srf__outvec__ns__t"><div class="ttname"><a href="group__group__mtb__srf__structures.html#structmtb__srf__outvec__ns__t">mtb_srf_outvec_ns_t</a></div><div class="ttdoc">An output vector - a section of memory to be used along with the length.</div><div class="ttdef"><b>Definition:</b> mtb_srf_iovec.h:71</div></div>
<div class="ttc" id="agroup__group__mtb__srf_html_gab26cb37c7cd980689eb5f49a308b4595"><div class="ttname"><a href="group__group__mtb__srf.html#gab26cb37c7cd980689eb5f49a308b4595">mtb_srf_request_submit</a></div><div class="ttdeci">cy_rslt_t mtb_srf_request_submit(mtb_srf_invec_ns_t *inVec_ns, uint8_t inVec_cnt_ns, mtb_srf_outvec_ns_t *outVec_ns, uint8_t outVec_cnt_ns)</div><div class="ttdoc">Submit a request from the non-secure side to the secure.</div></div>
</div><!-- fragment --> <table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="define-members" name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:ga6a987874362ead4d1391500887655e6c"><td class="memItemLeft" align="right" valign="top"><a id="ga6a987874362ead4d1391500887655e6c" name="ga6a987874362ead4d1391500887655e6c"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>MTB_SRF_ROUND_UP</b>(N,  S)&#160;&#160;&#160;((((N) + (S) - 1UL) / (S)) * (S))</td></tr>
<tr class="memdesc:ga6a987874362ead4d1391500887655e6c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Round up. <br /></td></tr>
<tr class="separator:ga6a987874362ead4d1391500887655e6c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga5df41c2a4b1880bd4a38e93517957cb5"><td class="memItemLeft" align="right" valign="top"><a id="ga5df41c2a4b1880bd4a38e93517957cb5" name="ga5df41c2a4b1880bd4a38e93517957cb5"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>MTB_SRF_POOL_ALIGNMENT</b>&#160;&#160;&#160;(4UL)</td></tr>
<tr class="memdesc:ga5df41c2a4b1880bd4a38e93517957cb5"><td class="mdescLeft">&#160;</td><td class="mdescRight">Address alignment value of pool in bytes. <br /></td></tr>
<tr class="separator:ga5df41c2a4b1880bd4a38e93517957cb5"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="func-members" name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:ga4b50f4d61fcf862d51dbeee70f46bac6"><td class="memItemLeft" align="right" valign="top">cy_rslt_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__group__mtb__srf__pool.html#ga4b50f4d61fcf862d51dbeee70f46bac6">mtb_srf_pool_allocate</a> (mtb_srf_pool_t *pool, <a class="el" href="group__group__mtb__srf__structures.html#structmtb__srf__invec__ns__t">mtb_srf_invec_ns_t</a> **inVec, <a class="el" href="group__group__mtb__srf__structures.html#structmtb__srf__outvec__ns__t">mtb_srf_outvec_ns_t</a> **outVec, uint32_t timeout_us)</td></tr>
<tr class="memdesc:ga4b50f4d61fcf862d51dbeee70f46bac6"><td class="mdescLeft">&#160;</td><td class="mdescRight">Allocate secure request object within an secure request pool.  <a href="group__group__mtb__srf__pool.html#ga4b50f4d61fcf862d51dbeee70f46bac6">More...</a><br /></td></tr>
<tr class="separator:ga4b50f4d61fcf862d51dbeee70f46bac6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gad62a0344db708f9f44881b878df618b5"><td class="memItemLeft" align="right" valign="top">cy_rslt_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__group__mtb__srf__pool.html#gad62a0344db708f9f44881b878df618b5">mtb_srf_pool_free</a> (mtb_srf_pool_t *pool, const <a class="el" href="group__group__mtb__srf__structures.html#structmtb__srf__invec__ns__t">mtb_srf_invec_ns_t</a> *inVec, const <a class="el" href="group__group__mtb__srf__structures.html#structmtb__srf__outvec__ns__t">mtb_srf_outvec_ns_t</a> *outVec)</td></tr>
<tr class="memdesc:gad62a0344db708f9f44881b878df618b5"><td class="mdescLeft">&#160;</td><td class="mdescRight">Free secure request object within an secure request pool.  <a href="group__group__mtb__srf__pool.html#gad62a0344db708f9f44881b878df618b5">More...</a><br /></td></tr>
<tr class="separator:gad62a0344db708f9f44881b878df618b5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaa96e74156a6dcff752c8db9552e5dbae"><td class="memItemLeft" align="right" valign="top">cy_rslt_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__group__mtb__srf__pool.html#gaa96e74156a6dcff752c8db9552e5dbae">mtb_srf_pool_get_entry_len</a> (mtb_srf_pool_t *pool, size_t *input_len_per_entry, size_t *output_len_per_entry)</td></tr>
<tr class="memdesc:gaa96e74156a6dcff752c8db9552e5dbae"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the input and output length per entry configuration of a pool that were set at initalization.  <a href="group__group__mtb__srf__pool.html#gaa96e74156a6dcff752c8db9552e5dbae">More...</a><br /></td></tr>
<tr class="separator:gaa96e74156a6dcff752c8db9552e5dbae"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Function Documentation</h2>
<a id="ga4b50f4d61fcf862d51dbeee70f46bac6" name="ga4b50f4d61fcf862d51dbeee70f46bac6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga4b50f4d61fcf862d51dbeee70f46bac6">&#9670;&nbsp;</a></span>mtb_srf_pool_allocate()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">cy_rslt_t mtb_srf_pool_allocate </td>
          <td>(</td>
          <td class="paramtype">mtb_srf_pool_t *&#160;</td>
          <td class="paramname"><em>pool</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__group__mtb__srf__structures.html#structmtb__srf__invec__ns__t">mtb_srf_invec_ns_t</a> **&#160;</td>
          <td class="paramname"><em>inVec</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__group__mtb__srf__structures.html#structmtb__srf__outvec__ns__t">mtb_srf_outvec_ns_t</a> **&#160;</td>
          <td class="paramname"><em>outVec</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>timeout_us</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Allocate secure request object within an secure request pool. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in,out]</td><td class="paramname">pool</td><td>The pool object that was populated by <a class="el" href="group__group__mtb__srf__pool__init.html#ga4656949c083236dd8f93fa2cc347fb97">mtb_srf_pool_init</a> </td></tr>
    <tr><td class="paramdir">[in,out]</td><td class="paramname">inVec</td><td>Pointer to an array of input vectors for the pool to allocate </td></tr>
    <tr><td class="paramdir">[in,out]</td><td class="paramname">outVec</td><td>Pointer to an array of output vectors for the pool to allocate </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">timeout_us</td><td>Timeout to wait in microsecond. Set to 0 to perform no wait.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section note"><dt>Note</dt><dd>The timeout_us must always be 0 if allocation is invoked from an interrupt context. </dd></dl>
<dl class="section return"><dt>Returns</dt><dd>the status of allocate request</dd></dl>
<p>Allocate secure request object within an secure request pool. </p>

</div>
</div>
<a id="gad62a0344db708f9f44881b878df618b5" name="gad62a0344db708f9f44881b878df618b5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gad62a0344db708f9f44881b878df618b5">&#9670;&nbsp;</a></span>mtb_srf_pool_free()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">cy_rslt_t mtb_srf_pool_free </td>
          <td>(</td>
          <td class="paramtype">mtb_srf_pool_t *&#160;</td>
          <td class="paramname"><em>pool</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="group__group__mtb__srf__structures.html#structmtb__srf__invec__ns__t">mtb_srf_invec_ns_t</a> *&#160;</td>
          <td class="paramname"><em>inVec</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="group__group__mtb__srf__structures.html#structmtb__srf__outvec__ns__t">mtb_srf_outvec_ns_t</a> *&#160;</td>
          <td class="paramname"><em>outVec</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Free secure request object within an secure request pool. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in,out]</td><td class="paramname">pool</td><td>The pool object that was populated by <a class="el" href="group__group__mtb__srf__pool__init.html#ga4656949c083236dd8f93fa2cc347fb97">mtb_srf_pool_init</a> </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">inVec</td><td>Pointer to an input vectors for the pool to free </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">outVec</td><td>Pointer to an output vectors for the pool to free. This must belong to the same request as inVec</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>the status of free request</dd></dl>
<p>Free secure request object within an secure request pool. </p>

</div>
</div>
<a id="gaa96e74156a6dcff752c8db9552e5dbae" name="gaa96e74156a6dcff752c8db9552e5dbae"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gaa96e74156a6dcff752c8db9552e5dbae">&#9670;&nbsp;</a></span>mtb_srf_pool_get_entry_len()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">cy_rslt_t mtb_srf_pool_get_entry_len </td>
          <td>(</td>
          <td class="paramtype">mtb_srf_pool_t *&#160;</td>
          <td class="paramname"><em>pool</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t *&#160;</td>
          <td class="paramname"><em>input_len_per_entry</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t *&#160;</td>
          <td class="paramname"><em>output_len_per_entry</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get the input and output length per entry configuration of a pool that were set at initalization. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in,out]</td><td class="paramname">pool</td><td>The pool object that was populated by <a class="el" href="group__group__mtb__srf__pool__init.html#ga4656949c083236dd8f93fa2cc347fb97">mtb_srf_pool_init</a> </td></tr>
    <tr><td class="paramdir">[in,out]</td><td class="paramname">input_len_per_entry</td><td>Value to store the input length per entry </td></tr>
    <tr><td class="paramdir">[in,out]</td><td class="paramname">output_len_per_entry</td><td>Value to store the output length per entry</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>the status of the initialization </dd></dl>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part
<div id="nav-path" class="navpath">
    <ul>
        <li class="footer">
            Generated for <b>Secure Request Framework</b> by <b>Cypress Semiconductor Corporation</b>.
            All rights reserved.
        </li>
    </ul>
</div>
-->
</body>
</html>
