<!-- HTML header for doxygen 1.8.13-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.9.2"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>PSOC E8XXGP Device Support Library</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen_style.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><a href="http://www.cypress.com/"><img alt="Logo" src="logo.png"/></a></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">PSOC E8XXGP Device Support Library</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.2 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search",'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(document).ready(function(){initNavTree('group__group__tcpwm.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#groups">API Reference</a>  </div>
  <div class="headertitle"><div class="title">TCPWM (Timer Counter PWM)<div class="ingroups"><a class="el" href="group__group__pdl__top.html">PDL API Reference</a></div></div></div>
</div><!--header-->
<div class="contents">
<a name="details" id="details"></a><h2 class="groupheader">General Description</h2>
<p >The TCPWM driver is a multifunction driver that implements Timer Counter, PWM, Quadrature Decoder, Shift Register and Motion Interface functionality using the TCPWM block. </p>
<p >The functions and other declarations used in this driver are in cy_tcpwm_counter.h, cy_tcpwm_pwm.h, cy_tcpwm_quaddec.h, cy_tcpwm_shiftreg.h respectively. Include cy_pdl.h to get access to all functions and declarations in the PDL.</p>
<p >Each TCPWM block is a collection of counters that can all be triggered simultaneously. For each function call, the base register address of the TCPWM being used must be passed first, followed by the index of the counter you want to touch next.</p>
<p >The TCPWM supports eight function modes:</p><ul>
<li>Timer</li>
<li>Capture</li>
<li>Quadrature Decoder</li>
<li>Pulse Width Modulation (PWM)</li>
<li>PWM with dead time insertion (PWMDT)</li>
<li>Pseudo random PWM (PWMPR)</li>
<li>Shift Register</li>
</ul>
<p >The TCPWM driver is structured to map these seven functional modes to four high level operating modes:</p><ul>
<li>Timer/Counter (includes Timer, Capture modes)</li>
<li>PWM (PWM, PWMDT, PWMPR)</li>
<li>Quadrature Decoder</li>
<li>Shift Register</li>
</ul>
<p >A brief description on each of the operating modes:</p>
<p ><b>Timer/Counter</b> </p>
<p >Use this mode whenever a specific timing interval or measurement is needed. Examples include:</p><ul>
<li>Creating a periodic interrupt for running other system tasks</li>
<li>Measuring frequency of an input signal</li>
<li>Measuring pulse width of an input signal</li>
<li>Measuring time between two external events</li>
<li>Counting events</li>
<li>Triggering other system resources after x number events</li>
<li>Capturing time stamps when events occur</li>
</ul>
<p ><br  />
<b>PWM</b> </p>
<p >Use this mode when an output square wave is needed with a specific period and duty cycle, such as:</p><ul>
<li>Creating arbitrary square wave outputs</li>
<li>Driving an LED (changing the brightness)</li>
<li>Driving Motors (dead time assertion available)</li>
</ul>
<p ><br  />
<b>Quadrature</b> <b>Decoder</b> </p>
<p >A quadrature decoder is used to decode the output of a quadrature encoder. A quadrature encoder senses the position, velocity, and direction of an object (for example a rotating axle, or a spinning mouse ball). A quadrature decoder can also be used for precision measurement of speed, acceleration, and position of a motor's rotor, or with a rotary switch to determine user input. <br  />
 <br  />
<b>Shift</b> <b>Register</b> </p>
<p >Shift Register functionality shifts the counter value to the right. A shift register is used to apply a signal delay function which can be used eg: in detecting frequency shift keying (FSK) signals. A shift register is also used in parallel-in to serial-out data conversion and serial-in to parallel-out data conversion.</p>
<h1><a class="anchor" id="group_tcpwm_version_information"></a>
TCPWM Version</h1>
<p ><b>TCPWM</b> <b>Version</b> <b>2</b> </p>
<ul>
<li>Supports up to four counter groups (check TRM for actual number of groups supported)</li>
<li>Each counter group consists of up to 256 counters (check TRM for actual number of counters supported)</li>
<li>Each counter<ul>
<li>Can run in one of seven function modes</li>
<li>Supports various counting modes:<ul>
<li>One-shot mode, Continuous mode (Up/Down/Up-down)</li>
</ul>
</li>
<li>Selects input signals<ul>
<li>Start, Reload, Stop, Count, and two Capture event signals</li>
</ul>
</li>
<li>Generates output signals:<ul>
<li>Two output triggers, PWM output, and Interrupt</li>
</ul>
</li>
<li>Trigger Outputs (TR_OUT0/1) and an Interrupt on an event<ul>
<li>Overflow (OV)</li>
<li>Underflow (UN)</li>
<li>Terminal Count (TC)</li>
<li>CC0/1_MATCH</li>
<li>LINE_OUT</li>
</ul>
</li>
<li>Supports debug mode</li>
<li>Each counter can produce two output signals</li>
</ul>
</li>
</ul>
<div class="image">
<img src="tcpwm_v2_block_diagram.png" alt=""/>
</div>
<ul>
<li><b>Input</b> <b>Trigger</b> <b>Selection</b> <b>and</b> <b>Event</b> <b>Detection</b> <ul>
<li>The counter control signals are generated as follows:<ul>
<li>Selects input signals from two types of trigger multiplexer signals<ul>
<li>Group trigger and one-to-one trigger</li>
<li>The constant '1' and '0' are also used as input triggers</li>
</ul>
</li>
<li>Detects the selected edge from four types<ul>
<li>Rising edge/falling edge/any edge/no edge</li>
</ul>
</li>
<li>Supports software (SW) command<ul>
<li>SW command of Trigger Multiplexer/SW command of TCPWM</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>
<div class="image">
<img src="tcpwm_v2_input_trigger_sel.png" alt=""/>
</div>
<ul>
<li><b>Simultaneous</b> <b>Activation:</b> <ul>
<li>When a Trigger Multiplexer block SW command is used, the TCPWM counters can be activated at the same time</li>
</ul>
</li>
</ul>
<div class="image">
<img src="tcpwm_v2_trigger_simultaneously.png" alt=""/>
</div>
 <h1><a class="anchor" id="group_tcpwm_more_information"></a>
More Information</h1>
<p >For more information on the TCPWM peripheral, refer to the technical reference manual (TRM). </p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="groups" name="groups"></a>
API Reference</h2></td></tr>
<tr class="memitem:group__group__tcpwm__common"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__group__tcpwm__common.html">Common</a></td></tr>
<tr class="memdesc:group__group__tcpwm__common"><td class="mdescLeft">&#160;</td><td class="mdescRight">Common API for the Timer Counter PWM Block. <br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:group__group__tcpwm__counter"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__group__tcpwm__counter.html">Timer/Counter (TCPWM)</a></td></tr>
<tr class="memdesc:group__group__tcpwm__counter"><td class="mdescLeft">&#160;</td><td class="mdescRight">Driver API for Timer/Counter. <br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:group__group__tcpwm__pwm"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__group__tcpwm__pwm.html">PWM (TCPWM)</a></td></tr>
<tr class="memdesc:group__group__tcpwm__pwm"><td class="mdescLeft">&#160;</td><td class="mdescRight">Driver API for PWM. <br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:group__group__tcpwm__quaddec"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__group__tcpwm__quaddec.html">Quadrature Decoder (TCPWM)</a></td></tr>
<tr class="memdesc:group__group__tcpwm__quaddec"><td class="mdescLeft">&#160;</td><td class="mdescRight">Driver API for Quadrature Decoder. <br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:group__group__tcpwm__shiftreg"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__group__tcpwm__shiftreg.html">Shift Register (TCPWM)</a></td></tr>
<tr class="memdesc:group__group__tcpwm__shiftreg"><td class="mdescLeft">&#160;</td><td class="mdescRight">Driver API for Shift Register. <br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part
<div id="nav-path" class="navpath">
    <ul>
        <li class="footer">
            Generated for <b>PSOC E8XXGP Device Support Library</b> by <b>Cypress Semiconductor Corporation</b>.
            All rights reserved.
        </li>
    </ul>
</div>
-->
</body>
</html>
