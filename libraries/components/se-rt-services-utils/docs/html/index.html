<!-- HTML header for doxygen 1.8.13-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.9.2"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>SE RT Services Utilities library</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen_style.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><a href="http://www.cypress.com/"><img alt="Logo" src="logo.png"/></a></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">SE RT Services Utilities library</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.2 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search",'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(document).ready(function(){initNavTree('index.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div><div class="header">
  <div class="headertitle"><div class="title">SE RT Services Utilities Library </div></div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p ><a class="anchor" id="md_README_doxygen"></a> </p>
<h1><a class="anchor" id="autotoc_md1"></a>
Overview</h1>
<p >The SE RT Services Utilities Library is a set of utility code for the PSOC Edge E84 device to provide an interface to SE RT Services SysCalls including PSA cryptographic functions, rollback management and generic syscall functions.</p>
<h1><a class="anchor" id="autotoc_md2"></a>
Features</h1>
<h2><a class="anchor" id="autotoc_md3"></a>
PSA Cryptographic functions</h2>
<p >Wrapper functions to call PSA Crypto API v1.1 are implemented in SE RT Services. All cryptographic functions are implemented according to the MbedTLS library version 3.6.0 interface. This version corresponds to the version which used in SE RT Services. Refer to the PSA Crypto API Reference Guide for the specific PSA Crypto functions:</p><ul>
<li><a href="https://armmbed.github.io/mbed-crypto/html/index.html">https://armmbed.github.io/mbed-crypto/html/index.html</a></li>
<li><a href="https://github.com/Mbed-TLS/mbedtls/tree/v3.2.1#psa-cryptography-api">https://github.com/Mbed-TLS/mbedtls/tree/v3.2.1#psa-cryptography-api</a></li>
</ul>
<h3><a class="anchor" id="autotoc_md4"></a>
Supported algorithms</h3>
<p >SE RT Services Utilities Library follows all Mbed TLS PSA definitions and functions but SE RT Services has limited support of key types and algorithms:</p>
<table class="markdownTable">
<tr class="markdownTableHead">
<th class="markdownTableHeadLeft">Operation   </th><th class="markdownTableHeadLeft">Algorithm   </th><th class="markdownTableHeadLeft">Key type    </th></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyLeft">Hash   </td><td class="markdownTableBodyLeft">SHA-256   </td><td class="markdownTableBodyLeft"></td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyLeft" rowspan="2">Symmetric   </td><td class="markdownTableBodyLeft">AES-ECB, AES-CBC, AES-CTR   </td><td class="markdownTableBodyLeft">AES-128, AES-256    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyLeft">AEAD AES-CCM   </td><td class="markdownTableBodyLeft">AES-128    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyLeft">MAC   </td><td class="markdownTableBodyLeft">AES-CMAC   </td><td class="markdownTableBodyLeft">AES-128, AES-256    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyLeft" rowspan="3">Asymmetric   </td><td class="markdownTableBodyLeft">ECDSA sign / verify   </td><td class="markdownTableBodyLeft">SECP-256R1    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyLeft">ECDSA verify   </td><td class="markdownTableBodyLeft">SECP-384R1    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyLeft">RSA verify   </td><td class="markdownTableBodyLeft">Up to 4096 bits    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyLeft">Key derivation   </td><td class="markdownTableBodyLeft">CMAC-KDF   </td><td class="markdownTableBodyLeft">AES-128, AES-256    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyLeft">Key agreement   </td><td class="markdownTableBodyLeft">ECDH   </td><td class="markdownTableBodyLeft">SECP-256R1   </td></tr>
</table>
<h2><a class="anchor" id="autotoc_md5"></a>
Generic Syscall functions</h2>
<p >Wrapper functions to call several syscalls which are implemented in SE RT Services:</p><ul>
<li><a class="el" href="group__platform__power.html">Enable/Disable/Power control</a></li>
<li><a class="el" href="group__platform__rollbacks.html">Anti-rollback counter manipulation</a></li>
<li><a class="el" href="group__platform__attestation.html">Initial Attestation Token</a></li>
<li><a class="el" href="group__platform__mpc.html">MPC protection management</a></li>
</ul>
<h2><a class="anchor" id="autotoc_md6"></a>
Adding the library</h2>
<p >There are two ways to add library to our project:</p><ul>
<li>add a dependency file (MTB format) into the 'deps' folder;</li>
<li>use the Library Manager. It is available under Libraries section &gt; Middleware &gt; se-rt-services-utils.</li>
</ul>
<h3><a class="anchor" id="autotoc_md7"></a>
Code snippet: Calculate the hash from the input data</h3>
<div class="fragment"><div class="line"><span class="preprocessor">#include &quot;ifx_se_psacrypto.h&quot;</span></div>
<div class="line"><span class="preprocessor">#include &quot;ifx_se_platform.h&quot;</span></div>
<div class="line"> </div>
<div class="line"><span class="keywordtype">int</span> main(<span class="keywordtype">void</span>)</div>
<div class="line">{</div>
<div class="line">        <span class="comment">/* All data arrays should be 4-byte aligned for a better performance */</span></div>
<div class="line"> </div>
<div class="line">        <span class="comment">/* Input data */</span></div>
<div class="line">        CY_ALIGN(4) const uint8_t text[10] = &quot;1234&quot;;</div>
<div class="line"> </div>
<div class="line">        <span class="comment">/* Calculated SHA-256 hash */</span></div>
<div class="line">        CY_ALIGN(4) uint8_t hash[<a class="code hl_define" href="group__constants__sizes.html#gacf3d12460006bc833f9e0d84155ca86b">IFX_SE_HASH_LENGTH</a>(<a class="code hl_define" href="group__crypto__algs.html#gadcc8ddfd60433866f8dea0925c1fa1b7">IFX_SE_ALG_SHA_256</a>)] = {0};</div>
<div class="line">        <span class="keywordtype">size_t</span> hash_lenght;</div>
<div class="line">        <a class="code hl_typedef" href="group__hash__operations.html#gabe48bf4657660e537bf3f431e18efae4">ifx_se_hash_operation_t</a> psaOp = <a class="code hl_define" href="group__hash__operations.html#ga29535e5119316f6ecf0c4f88577e62d0">IFX_SE_HASH_OPERATION_INIT</a>;</div>
<div class="line">        <a class="code hl_struct" href="group__fih.html#structifx__se__fih__uint">ifx_se_status_t</a> status;</div>
<div class="line"> </div>
<div class="line">        __enable_irq();</div>
<div class="line"> </div>
<div class="line">        <span class="comment">/* Hash the message by SHA256 */</span></div>
<div class="line">        status = <a class="code hl_function" href="group__hash__operations.html#ga7fbffa41c41e0e3fee31728fc4e9dd02">ifx_se_hash_setup</a> (&amp;psaOp, <a class="code hl_function" href="group__fih.html#gac1e7e38894ec44ec37b1aa144ee5560e">ifx_se_fih_uint_encode</a>(<a class="code hl_define" href="group__crypto__algs.html#gadcc8ddfd60433866f8dea0925c1fa1b7">IFX_SE_ALG_SHA_256</a>), <a class="code hl_define" href="group__syscall__macros.html#ga91c965d62be71574f5aaea48996b74c7">IFX_SE_NULL_CTX</a>);</div>
<div class="line"> </div>
<div class="line">        <span class="comment">/* ... check for errors... */</span></div>
<div class="line">        <span class="comment">/* Use CY_REMAP_ADDRESS_CBUS_TO_SAHB macro to remap address if the input data are located in external flash */</span></div>
<div class="line">        status = <a class="code hl_function" href="group__hash__operations.html#ga846fe386f0c3b6b7bd6f47f653921f27">ifx_se_hash_update</a> (&amp;psaOp,</div>
<div class="line">                                     <a class="code hl_function" href="group__fih.html#ga2fb22f43e081341ad3459facb8603b1a">ifx_se_fih_ptr_encode</a>(CY_REMAP_ADDRESS_CBUS_TO_SAHB(text)),</div>
<div class="line">                                     <a class="code hl_function" href="group__fih.html#gac1e7e38894ec44ec37b1aa144ee5560e">ifx_se_fih_uint_encode</a>(<span class="keyword">sizeof</span>(text)),</div>
<div class="line">                                     <a class="code hl_define" href="group__syscall__macros.html#ga91c965d62be71574f5aaea48996b74c7">IFX_SE_NULL_CTX</a>);</div>
<div class="line"> </div>
<div class="line">        <span class="comment">/* ... check for errors... */</span></div>
<div class="line">        status = <a class="code hl_function" href="group__hash__operations.html#ga70d1bc920c44155d1c25c3a32b44a0bd">ifx_se_hash_finish</a> (&amp;psaOp,</div>
<div class="line">                                     <a class="code hl_function" href="group__fih.html#ga2fb22f43e081341ad3459facb8603b1a">ifx_se_fih_ptr_encode</a>(hash),</div>
<div class="line">                                     <a class="code hl_function" href="group__fih.html#gac1e7e38894ec44ec37b1aa144ee5560e">ifx_se_fih_uint_encode</a>(<span class="keyword">sizeof</span>(hash)),</div>
<div class="line">                                     <a class="code hl_function" href="group__fih.html#ga2fb22f43e081341ad3459facb8603b1a">ifx_se_fih_ptr_encode</a>(&amp;hash_lenght),</div>
<div class="line">                                     <a class="code hl_define" href="group__syscall__macros.html#ga91c965d62be71574f5aaea48996b74c7">IFX_SE_NULL_CTX</a>);</div>
<div class="line"> </div>
<div class="line">        <span class="comment">/* ... check for errors... */</span></div>
<div class="line"> </div>
<div class="line">    <span class="keywordflow">for</span> (;;)</div>
<div class="line">    {</div>
<div class="line">    }</div>
<div class="line">}</div>
<div class="ttc" id="agroup__constants__sizes_html_gacf3d12460006bc833f9e0d84155ca86b"><div class="ttname"><a href="group__constants__sizes.html#gacf3d12460006bc833f9e0d84155ca86b">IFX_SE_HASH_LENGTH</a></div><div class="ttdeci">#define IFX_SE_HASH_LENGTH(alg)</div><div class="ttdoc">The size of the output of ifx_se_hash_finish(), in bytes.</div><div class="ttdef"><b>Definition:</b> ifx_se_psacrypto_sizes.h:82</div></div>
<div class="ttc" id="agroup__crypto__algs_html_gadcc8ddfd60433866f8dea0925c1fa1b7"><div class="ttname"><a href="group__crypto__algs.html#gadcc8ddfd60433866f8dea0925c1fa1b7">IFX_SE_ALG_SHA_256</a></div><div class="ttdeci">#define IFX_SE_ALG_SHA_256</div><div class="ttdoc">SHA2-256.</div><div class="ttdef"><b>Definition:</b> ifx_se_psacrypto_values.h:905</div></div>
<div class="ttc" id="agroup__fih_html_ga2fb22f43e081341ad3459facb8603b1a"><div class="ttname"><a href="group__fih.html#ga2fb22f43e081341ad3459facb8603b1a">ifx_se_fih_ptr_encode</a></div><div class="ttdeci">__STATIC_FORCEINLINE ifx_se_fih_ptr_t ifx_se_fih_ptr_encode(const void *x)</div><div class="ttdoc">Convert pointer address to a ifx_se_fih_ptr_t.</div><div class="ttdef"><b>Definition:</b> ifx_se_fih.h:559</div></div>
<div class="ttc" id="agroup__fih_html_gac1e7e38894ec44ec37b1aa144ee5560e"><div class="ttname"><a href="group__fih.html#gac1e7e38894ec44ec37b1aa144ee5560e">ifx_se_fih_uint_encode</a></div><div class="ttdeci">__STATIC_FORCEINLINE ifx_se_fih_uint ifx_se_fih_uint_encode(uint32_t x)</div><div class="ttdoc">Convert an unsigned int to a ifx_se_fih_uint.</div><div class="ttdef"><b>Definition:</b> ifx_se_fih.h:201</div></div>
<div class="ttc" id="agroup__fih_html_structifx__se__fih__uint"><div class="ttname"><a href="group__fih.html#structifx__se__fih__uint">ifx_se_fih_uint</a></div><div class="ttdoc">All ints are replaced with two int - the normal one and a backup which is XORed with the mask.</div><div class="ttdef"><b>Definition:</b> ifx_se_fih.h:112</div></div>
<div class="ttc" id="agroup__hash__operations_html_ga29535e5119316f6ecf0c4f88577e62d0"><div class="ttname"><a href="group__hash__operations.html#ga29535e5119316f6ecf0c4f88577e62d0">IFX_SE_HASH_OPERATION_INIT</a></div><div class="ttdeci">#define IFX_SE_HASH_OPERATION_INIT</div><div class="ttdoc">the initial value of the Hash operation context</div><div class="ttdef"><b>Definition:</b> ifx_se_psacrypto_struct.h:62</div></div>
<div class="ttc" id="agroup__hash__operations_html_ga70d1bc920c44155d1c25c3a32b44a0bd"><div class="ttname"><a href="group__hash__operations.html#ga70d1bc920c44155d1c25c3a32b44a0bd">ifx_se_hash_finish</a></div><div class="ttdeci">ifx_se_status_t ifx_se_hash_finish(ifx_se_hash_operation_t *operation, ifx_se_fih_ptr_t hash, ifx_se_fih_t hash_size, ifx_se_fih_ptr_t hash_length, void *ctx)</div><div class="ttdoc">Finish the calculation of the hash of a message.</div><div class="ttdef"><b>Definition:</b> ifx_se_psacrypto.c:881</div></div>
<div class="ttc" id="agroup__hash__operations_html_ga7fbffa41c41e0e3fee31728fc4e9dd02"><div class="ttname"><a href="group__hash__operations.html#ga7fbffa41c41e0e3fee31728fc4e9dd02">ifx_se_hash_setup</a></div><div class="ttdeci">ifx_se_status_t ifx_se_hash_setup(ifx_se_hash_operation_t *operation, ifx_se_alg_fih_t alg, void *ctx)</div><div class="ttdoc">Set up a multipart hash operation.</div><div class="ttdef"><b>Definition:</b> ifx_se_psacrypto.c:835</div></div>
<div class="ttc" id="agroup__hash__operations_html_ga846fe386f0c3b6b7bd6f47f653921f27"><div class="ttname"><a href="group__hash__operations.html#ga846fe386f0c3b6b7bd6f47f653921f27">ifx_se_hash_update</a></div><div class="ttdeci">ifx_se_status_t ifx_se_hash_update(ifx_se_hash_operation_t *operation, const ifx_se_fih_ptr_t input, ifx_se_fih_t input_length, void *ctx)</div><div class="ttdoc">Add a message fragment to a multipart hash operation.</div><div class="ttdef"><b>Definition:</b> ifx_se_psacrypto.c:857</div></div>
<div class="ttc" id="agroup__hash__operations_html_gabe48bf4657660e537bf3f431e18efae4"><div class="ttname"><a href="group__hash__operations.html#gabe48bf4657660e537bf3f431e18efae4">ifx_se_hash_operation_t</a></div><div class="ttdeci">struct ifx_se_hash_operation_s ifx_se_hash_operation_t</div><div class="ttdoc">The type of the state data structure for multipart hash operations.</div><div class="ttdef"><b>Definition:</b> ifx_se_psacrypto_types.h:72</div></div>
<div class="ttc" id="agroup__syscall__macros_html_ga91c965d62be71574f5aaea48996b74c7"><div class="ttname"><a href="group__syscall__macros.html#ga91c965d62be71574f5aaea48996b74c7">IFX_SE_NULL_CTX</a></div><div class="ttdeci">#define IFX_SE_NULL_CTX</div><div class="ttdoc">SE RT Services user defined syscall context.</div><div class="ttdef"><b>Definition:</b> ifx_se_syscall.h:303</div></div>
</div><!-- fragment --><h3><a class="anchor" id="autotoc_md8"></a>
Code snippet: Verify signature based on NIST test vector</h3>
<div class="fragment"><div class="line">{</div>
<div class="line">    <span class="comment">/* SigVer.rsp [P-384,SHA-256] csrc.nist.gov/CSRC/media/Projects/Cryptographic-Algorithm-Validation-Program/documents/dss/186-4ecdsatestvectors.zip */</span></div>
<div class="line">    <span class="comment">/* Input message from the NIST test vector */</span></div>
<div class="line">    CY_ALIGN(4) uint8_t message[] =</div>
<div class="line">    {</div>
<div class="line">        0x86,0x2c,0xf1,0x4c,0x65,0xff,0x85,0xf4,0xfd,0xd8,0xa3,0x93,0x02,0x05,0x63,0x55,</div>
<div class="line">        0xc8,0x9c,0x6e,0xa1,0x78,0x9c,0x05,0x62,0x62,0xb0,0x77,0xda,0xb3,0x3a,0xbb,0xfd,</div>
<div class="line">        0xa0,0x07,0x0f,0xce,0x18,0x8c,0x63,0x30,0xde,0x84,0xdf,0xc5,0x12,0x74,0x4e,0x9f,</div>
<div class="line">        0xa0,0xf7,0xb0,0x3c,0xe0,0xc1,0x48,0x58,0xdb,0x19,0x52,0x75,0x0d,0x7b,0xbe,0x6b,</div>
<div class="line">        0xd9,0xc8,0x72,0x6c,0x0e,0xae,0x61,0xe6,0xcf,0x28,0x77,0xc6,0x55,0xb1,0xf0,0xe0,</div>
<div class="line">        0xce,0x82,0x54,0x30,0xa9,0x79,0x6e,0x74,0x20,0xe5,0xc1,0x74,0xea,0xb7,0xa5,0x04,</div>
<div class="line">        0x59,0xe2,0x91,0x51,0x0b,0xc5,0x15,0x14,0x17,0x38,0x90,0x0d,0x39,0x02,0x17,0xc5,</div>
<div class="line">        0xa5,0x22,0xe4,0xbd,0xe5,0x47,0xe5,0x72,0x87,0xd8,0x13,0x9d,0xc9,0x16,0x50,0x4e</div>
<div class="line">    };</div>
<div class="line">    <span class="comment">/* Signature from the NIST test vector */</span></div>
<div class="line">    CY_ALIGN(4) uint8_t signature[] =</div>
<div class="line">    {</div>
<div class="line">        0x79,0x80,0x65,0xf1,0xd1,0xcb,0xd3,0xa1,0x89,0x77,0x94,0xf4,0xa0,0x25,0xed,0x47,</div>
<div class="line">        0x56,0x5d,0xf7,0x73,0x84,0x3f,0x4f,0xa7,0x4c,0x85,0xfe,0x4d,0x30,0xe3,0xa3,0x94,</div>
<div class="line">        0x78,0x3e,0xc5,0x72,0x3b,0x53,0x0f,0xc5,0xf5,0x79,0x06,0xf9,0x46,0xce,0x15,0xe8,</div>
<div class="line">        0xb5,0x71,0x66,0x04,0x4c,0x57,0xc7,0xd9,0x58,0x20,0x66,0x80,0x5b,0x58,0x85,0xab,</div>
<div class="line">        0xc0,0x6e,0x0b,0xfc,0x02,0x43,0x38,0x50,0xc2,0xb7,0x49,0x73,0x20,0x5c,0xa3,0x57,</div>
<div class="line">        0xa2,0xda,0x94,0xa6,0x51,0x72,0x08,0x6f,0x5a,0x15,0x80,0xba,0xa6,0x97,0x40,0x0b</div>
<div class="line">    };</div>
<div class="line">    <span class="comment">/* The public key from the NIST test vector is embedded in to SE_RT_SERVICES</span></div>
<div class="line"><span class="comment">       Qx = 86ac12dd0a7fe5b81fdae86b12435d316ef9392a3f50b307ab65d9c6079dd0d2d819dc09e22861459c2ed99fbab66fae</span></div>
<div class="line"><span class="comment">       Qy = ac8444077aaed6d6ccacbe67a4caacee0b5a094a3575ca12ea4b4774c030fe1c870c9249023f5dc4d9ad6e333668cc38</span></div>
<div class="line"><span class="comment">       S = b57166044c57c7d9582066805b5885abc06e0bfc02433850c2b74973205ca357a2da94a65172086f5a1580baa697400b</span></div>
<div class="line"><span class="comment">    */</span></div>
<div class="line">    <a class="code hl_typedef" href="group__key__attributes.html#ga40f81e5fa5d5b8c64b81b49d60ccc6dc">ifx_se_key_id_fih_t</a> oem_custom_key = <a class="code hl_define" href="group__crypto__types.html#ga22433d19525a3a1335ae9ce8a455eac0">IFX_SE_KEY_ID_FIH_INIT_VALUE</a>(0, <a class="code hl_define" href="group__builtin__keys.html#ga060d6aaf8bb7de8fa3301dc711af9f83">IFX_SE_KEY_ID_BUILTIN_TEST_ECC384</a>);</div>
<div class="line"> </div>
<div class="line">    status = <a class="code hl_function" href="group__async__operations.html#gaa5294f966dbdca6e46d32b5d65ac59e9">ifx_se_verify_message</a>(oem_custom_key,</div>
<div class="line">                                   <a class="code hl_function" href="group__fih.html#gac1e7e38894ec44ec37b1aa144ee5560e">ifx_se_fih_uint_encode</a>(<a class="code hl_define" href="group__crypto__algs.html#gab2094275c1c29ed54b33e88db81c26be">IFX_SE_ALG_ECDSA</a>(<a class="code hl_define" href="group__crypto__algs.html#gadcc8ddfd60433866f8dea0925c1fa1b7">IFX_SE_ALG_SHA_256</a>)),</div>
<div class="line">                                   <a class="code hl_function" href="group__fih.html#ga2fb22f43e081341ad3459facb8603b1a">ifx_se_fih_ptr_encode</a>(message),</div>
<div class="line">                                   <a class="code hl_function" href="group__fih.html#gac1e7e38894ec44ec37b1aa144ee5560e">ifx_se_fih_uint_encode</a>(<span class="keyword">sizeof</span>(message)),</div>
<div class="line">                                   <a class="code hl_function" href="group__fih.html#ga2fb22f43e081341ad3459facb8603b1a">ifx_se_fih_ptr_encode</a>(signature),</div>
<div class="line">                                   <a class="code hl_function" href="group__fih.html#gac1e7e38894ec44ec37b1aa144ee5560e">ifx_se_fih_uint_encode</a>(<span class="keyword">sizeof</span>(signature)),</div>
<div class="line">                                   <a class="code hl_define" href="group__syscall__macros.html#ga91c965d62be71574f5aaea48996b74c7">IFX_SE_NULL_CTX</a>);</div>
<div class="line">    <span class="comment">/* ... check for errors... */</span></div>
<div class="line">}</div>
<div class="ttc" id="agroup__async__operations_html_gaa5294f966dbdca6e46d32b5d65ac59e9"><div class="ttname"><a href="group__async__operations.html#gaa5294f966dbdca6e46d32b5d65ac59e9">ifx_se_verify_message</a></div><div class="ttdeci">ifx_se_status_t ifx_se_verify_message(ifx_se_key_id_fih_t key, ifx_se_alg_fih_t alg, const ifx_se_fih_ptr_t input, ifx_se_fih_t input_length, const ifx_se_fih_ptr_t signature, ifx_se_fih_t signature_length, void *ctx)</div><div class="ttdoc">Verify the signature of a message with a public key, using a hash-and-sign verification algorithm.</div><div class="ttdef"><b>Definition:</b> ifx_se_psacrypto.c:130</div></div>
<div class="ttc" id="agroup__builtin__keys_html_ga060d6aaf8bb7de8fa3301dc711af9f83"><div class="ttname"><a href="group__builtin__keys.html#ga060d6aaf8bb7de8fa3301dc711af9f83">IFX_SE_KEY_ID_BUILTIN_TEST_ECC384</a></div><div class="ttdeci">#define IFX_SE_KEY_ID_BUILTIN_TEST_ECC384</div><div class="ttdoc">ECC P384 public key for signature verify NIST test.</div><div class="ttdef"><b>Definition:</b> ifx_se_psacrypto_values.h:2853</div></div>
<div class="ttc" id="agroup__crypto__algs_html_gab2094275c1c29ed54b33e88db81c26be"><div class="ttname"><a href="group__crypto__algs.html#gab2094275c1c29ed54b33e88db81c26be">IFX_SE_ALG_ECDSA</a></div><div class="ttdeci">#define IFX_SE_ALG_ECDSA(hash_alg)</div><div class="ttdoc">ECDSA signature with hashing.</div><div class="ttdef"><b>Definition:</b> ifx_se_psacrypto_values.h:1529</div></div>
<div class="ttc" id="agroup__crypto__types_html_ga22433d19525a3a1335ae9ce8a455eac0"><div class="ttname"><a href="group__crypto__types.html#ga22433d19525a3a1335ae9ce8a455eac0">IFX_SE_KEY_ID_FIH_INIT_VALUE</a></div><div class="ttdeci">#define IFX_SE_KEY_ID_FIH_INIT_VALUE(owner, id)</div><div class="ttdoc">The initial value of the keys identifier transfer data with specified key id and owner.</div><div class="ttdef"><b>Definition:</b> ifx_se_psacrypto_struct.h:497</div></div>
<div class="ttc" id="agroup__key__attributes_html_ga40f81e5fa5d5b8c64b81b49d60ccc6dc"><div class="ttname"><a href="group__key__attributes.html#ga40f81e5fa5d5b8c64b81b49d60ccc6dc">ifx_se_key_id_fih_t</a></div><div class="ttdeci">struct ifx_se_key_id_fih_s ifx_se_key_id_fih_t</div><div class="ttdoc">The type of the of keys identifier transfer data.</div><div class="ttdef"><b>Definition:</b> ifx_se_psacrypto_types.h:339</div></div>
</div><!-- fragment --><h3><a class="anchor" id="autotoc_md9"></a>
Code snippet: Generate random AES key and use it for data encryption and decryption</h3>
<div class="fragment"><div class="line">{</div>
<div class="line"><span class="preprocessor">    #define AES_KEY_SIZE        (16)</span></div>
<div class="line">    <a class="code hl_typedef" href="group__key__attributes.html#gad1ded78e935cd08ba08a5a27c003d7b3">ifx_se_key_attributes_t</a> aesAttributes = <a class="code hl_define" href="group__key__attributes.html#ga5ad00c2092aaa27fc2a8fee1dedfadbc">IFX_SE_KEY_ATTRIBUTES_INIT</a>;</div>
<div class="line">    <a class="code hl_typedef" href="group__key__attributes.html#ga40f81e5fa5d5b8c64b81b49d60ccc6dc">ifx_se_key_id_fih_t</a> aesKeyId;</div>
<div class="line"> </div>
<div class="line">    <span class="comment">/* Set AES key attributes */</span></div>
<div class="line">    <a class="code hl_function" href="group__key__policy.html#ga014b0b9497d9644e95cd23177ba24f90">ifx_se_set_key_usage_flags</a>(&amp;aesAttributes, <a class="code hl_define" href="group__key__policy.html#ga943d38f66cd37626b8ced5ba81e48fdf">IFX_SE_KEY_USAGE_DECRYPT</a> | <a class="code hl_define" href="group__key__policy.html#gaacd41a9ee857d3c8cd33aefb1ad0aa9f">IFX_SE_KEY_USAGE_ENCRYPT</a>);</div>
<div class="line">    <a class="code hl_function" href="group__crypto__algs.html#ga155086173391bf986ae11a1c5470c524">ifx_se_set_key_algorithm</a>(&amp;aesAttributes, <a class="code hl_define" href="group__crypto__algs.html#gae2393aa83af9bcdf8b1800cd3889e871">IFX_SE_ALG_CBC_NO_PADDING</a>);</div>
<div class="line">    <a class="code hl_function" href="group__crypto__types.html#gacb87ac6dea9c169a8fbcb5280fbdb1f3">ifx_se_set_key_type</a>(&amp;aesAttributes, <a class="code hl_define" href="group__crypto__types.html#ga666a9c5f33dc3223aa48bea5a038c61b">IFX_SE_KEY_TYPE_AES</a>);</div>
<div class="line">    <a class="code hl_function" href="group__crypto__types.html#gae468f6a33a7165803fecc629cefd4269">ifx_se_set_key_bits</a>(&amp;aesAttributes, IFX_SE_BYTES_TO_BITS(AES_KEY_SIZE));</div>
<div class="line">    <a class="code hl_function" href="group__key__lifetimes.html#ga417f6e43ee077920c2014d589f324249">ifx_se_set_key_lifetime</a>(&amp;aesAttributes, <a class="code hl_define" href="group__key__lifetimes.html#ga631c180f4fec5f6f33d59ded4b74f64c">IFX_SE_KEY_LIFETIME_FROM_PERSISTENCE_AND_LOCATION</a>(</div>
<div class="line">                            <a class="code hl_define" href="group__key__lifetimes.html#ga41a2fa2e9004c5c04383f063c5247860">IFX_SE_KEY_PERSISTENCE_VOLATILE</a>, <a class="code hl_define" href="group__key__lifetimes.html#ga718e9471a55b05f2ed1c2deefba4fda6">IFX_SE_KEY_LOCATION_SE</a>));</div>
<div class="line">    <span class="comment">/* Generate AES key */</span></div>
<div class="line">    status = <a class="code hl_function" href="group__import__export.html#ga088fb56ab03f918b7c10a29c7934100b">ifx_se_generate_key</a>(&amp;aesAttributes,</div>
<div class="line">                                 <a class="code hl_function" href="group__fih.html#ga2fb22f43e081341ad3459facb8603b1a">ifx_se_fih_ptr_encode</a>(&amp;aesKeyId),</div>
<div class="line">                                 <a class="code hl_define" href="group__syscall__macros.html#ga91c965d62be71574f5aaea48996b74c7">IFX_SE_NULL_CTX</a>);</div>
<div class="line">    <span class="comment">/* ... check for errors after each API call ... */</span></div>
<div class="line">{</div>
<div class="line"><span class="preprocessor">    #define DATA_LEN              (16)</span></div>
<div class="line">    <span class="comment">/* Input data */</span></div>
<div class="line">    CY_ALIGN(4) const uint8_t inData[DATA_LEN] = &quot;1234567890&quot;;</div>
<div class="line">    <span class="comment">/* Encrypted data buffer contains Initialization vector followed by the cipher text */</span></div>
<div class="line">    uint8_t iv_and_encryptedData[<a class="code hl_define" href="group__constants__sizes.html#ga5fe733f9c479459aef5e84608c2e6250">IFX_SE_CIPHER_ENCRYPT_OUTPUT_SIZE</a>(<a class="code hl_define" href="group__crypto__types.html#ga666a9c5f33dc3223aa48bea5a038c61b">IFX_SE_KEY_TYPE_AES</a>, <a class="code hl_define" href="group__crypto__algs.html#gae2393aa83af9bcdf8b1800cd3889e871">IFX_SE_ALG_CBC_NO_PADDING</a>, DATA_LEN)] = {0};</div>
<div class="line"> </div>
<div class="line">    <span class="comment">/* Decrypted data */</span></div>
<div class="line">    uint8_t decryptedData[<a class="code hl_define" href="group__constants__sizes.html#gaf2ea52a825d5762baa0d2b4227c2c852">IFX_SE_CIPHER_DECRYPT_OUTPUT_SIZE</a>(<a class="code hl_define" href="group__crypto__types.html#ga666a9c5f33dc3223aa48bea5a038c61b">IFX_SE_KEY_TYPE_AES</a>, <a class="code hl_define" href="group__crypto__algs.html#gae2393aa83af9bcdf8b1800cd3889e871">IFX_SE_ALG_CBC_NO_PADDING</a>, DATA_LEN)] = {0};</div>
<div class="line">    <span class="keywordtype">size_t</span> outSize = 0;</div>
<div class="line"> </div>
<div class="line">    <span class="comment">/* Generate random IV */</span></div>
<div class="line">    status = <a class="code hl_function" href="group__random.html#ga1c63b29c327ee3e073bfa1d4e6ed502d">ifx_se_generate_random</a>(<a class="code hl_function" href="group__fih.html#ga2fb22f43e081341ad3459facb8603b1a">ifx_se_fih_ptr_encode</a>(iv_and_encryptedData),</div>
<div class="line">                                    <a class="code hl_function" href="group__fih.html#gac1e7e38894ec44ec37b1aa144ee5560e">ifx_se_fih_uint_encode</a>(<a class="code hl_define" href="group__constants__sizes.html#ga932d510c0ff49d175395c01acb03c62d">IFX_SE_CIPHER_IV_MAX_SIZE</a>),</div>
<div class="line">                                    <a class="code hl_define" href="group__syscall__macros.html#ga91c965d62be71574f5aaea48996b74c7">IFX_SE_NULL_CTX</a>);</div>
<div class="line"> </div>
<div class="line">    <span class="comment">/* Encrypt Data */</span></div>
<div class="line">    status = <a class="code hl_function" href="group__cipher__operations.html#gaeee781aa1fb49cd63e4ae965236b50e3">ifx_se_cipher_encrypt</a>(aesKeyId,</div>
<div class="line">                                   <a class="code hl_function" href="group__fih.html#gac1e7e38894ec44ec37b1aa144ee5560e">ifx_se_fih_uint_encode</a>(<a class="code hl_define" href="group__crypto__algs.html#gae2393aa83af9bcdf8b1800cd3889e871">IFX_SE_ALG_CBC_NO_PADDING</a>),</div>
<div class="line">                                   <a class="code hl_function" href="group__fih.html#ga2fb22f43e081341ad3459facb8603b1a">ifx_se_fih_ptr_encode</a>(iv_and_encryptedData),</div>
<div class="line">                                   <a class="code hl_function" href="group__fih.html#gac1e7e38894ec44ec37b1aa144ee5560e">ifx_se_fih_uint_encode</a>(<a class="code hl_define" href="group__constants__sizes.html#ga932d510c0ff49d175395c01acb03c62d">IFX_SE_CIPHER_IV_MAX_SIZE</a>),</div>
<div class="line">                                   <a class="code hl_function" href="group__fih.html#ga2fb22f43e081341ad3459facb8603b1a">ifx_se_fih_ptr_encode</a>(inData),</div>
<div class="line">                                   <a class="code hl_function" href="group__fih.html#gac1e7e38894ec44ec37b1aa144ee5560e">ifx_se_fih_uint_encode</a>(<span class="keyword">sizeof</span>(inData)),</div>
<div class="line">                                   <a class="code hl_function" href="group__fih.html#ga2fb22f43e081341ad3459facb8603b1a">ifx_se_fih_ptr_encode</a>(iv_and_encryptedData + <a class="code hl_define" href="group__constants__sizes.html#ga932d510c0ff49d175395c01acb03c62d">IFX_SE_CIPHER_IV_MAX_SIZE</a>),</div>
<div class="line">                                   <a class="code hl_function" href="group__fih.html#gac1e7e38894ec44ec37b1aa144ee5560e">ifx_se_fih_uint_encode</a>(<span class="keyword">sizeof</span>(iv_and_encryptedData) - <a class="code hl_define" href="group__constants__sizes.html#ga932d510c0ff49d175395c01acb03c62d">IFX_SE_CIPHER_IV_MAX_SIZE</a>),</div>
<div class="line">                                   <a class="code hl_function" href="group__fih.html#ga2fb22f43e081341ad3459facb8603b1a">ifx_se_fih_ptr_encode</a>(&amp;outSize),</div>
<div class="line">                                   <a class="code hl_define" href="group__syscall__macros.html#ga91c965d62be71574f5aaea48996b74c7">IFX_SE_NULL_CTX</a>);</div>
<div class="line"> </div>
<div class="line">    <span class="comment">/* Decrypt Data */</span></div>
<div class="line">    status = <a class="code hl_function" href="group__cipher__operations.html#gac7bee80fdabbfdcdf6f7b63589da4f1e">ifx_se_cipher_decrypt</a>(aesKeyId,</div>
<div class="line">                                   <a class="code hl_function" href="group__fih.html#gac1e7e38894ec44ec37b1aa144ee5560e">ifx_se_fih_uint_encode</a>(<a class="code hl_define" href="group__crypto__algs.html#gae2393aa83af9bcdf8b1800cd3889e871">IFX_SE_ALG_CBC_NO_PADDING</a>),</div>
<div class="line">                                   <a class="code hl_function" href="group__fih.html#ga2fb22f43e081341ad3459facb8603b1a">ifx_se_fih_ptr_encode</a>(iv_and_encryptedData),</div>
<div class="line">                                   <a class="code hl_function" href="group__fih.html#gac1e7e38894ec44ec37b1aa144ee5560e">ifx_se_fih_uint_encode</a>(<span class="keyword">sizeof</span>(iv_and_encryptedData)),</div>
<div class="line">                                   <a class="code hl_function" href="group__fih.html#ga2fb22f43e081341ad3459facb8603b1a">ifx_se_fih_ptr_encode</a>(decryptedData),</div>
<div class="line">                                   <a class="code hl_function" href="group__fih.html#gac1e7e38894ec44ec37b1aa144ee5560e">ifx_se_fih_uint_encode</a>(<span class="keyword">sizeof</span>(decryptedData)),</div>
<div class="line">                                   <a class="code hl_function" href="group__fih.html#ga2fb22f43e081341ad3459facb8603b1a">ifx_se_fih_ptr_encode</a>(&amp;outSize),</div>
<div class="line">                                   <a class="code hl_define" href="group__syscall__macros.html#ga91c965d62be71574f5aaea48996b74c7">IFX_SE_NULL_CTX</a>);</div>
<div class="line"> </div>
<div class="line"> </div>
<div class="line">    <span class="comment">/* Destroy old AES key */</span></div>
<div class="line">    status = <a class="code hl_function" href="group__import__export.html#ga339bef7d5ba64501be36e9564704c5c6">ifx_se_destroy_key</a>(aesKeyId, <a class="code hl_define" href="group__syscall__macros.html#ga91c965d62be71574f5aaea48996b74c7">IFX_SE_NULL_CTX</a>);</div>
<div class="line">}}</div>
<div class="ttc" id="agroup__cipher__operations_html_gac7bee80fdabbfdcdf6f7b63589da4f1e"><div class="ttname"><a href="group__cipher__operations.html#gac7bee80fdabbfdcdf6f7b63589da4f1e">ifx_se_cipher_decrypt</a></div><div class="ttdeci">ifx_se_status_t ifx_se_cipher_decrypt(ifx_se_key_id_fih_t key, ifx_se_alg_fih_t alg, const ifx_se_fih_ptr_t input, ifx_se_fih_t input_length, ifx_se_fih_ptr_t output, ifx_se_fih_t output_size, ifx_se_fih_ptr_t output_length, void *ctx)</div><div class="ttdoc">Decrypt a message using a symmetric cipher.</div><div class="ttdef"><b>Definition:</b> ifx_se_psacrypto.c:528</div></div>
<div class="ttc" id="agroup__cipher__operations_html_gaeee781aa1fb49cd63e4ae965236b50e3"><div class="ttname"><a href="group__cipher__operations.html#gaeee781aa1fb49cd63e4ae965236b50e3">ifx_se_cipher_encrypt</a></div><div class="ttdeci">ifx_se_status_t ifx_se_cipher_encrypt(ifx_se_key_id_fih_t key, ifx_se_alg_fih_t alg, const ifx_se_fih_ptr_t iv, ifx_se_fih_t iv_length, const ifx_se_fih_ptr_t input, ifx_se_fih_t input_length, ifx_se_fih_ptr_t output, ifx_se_fih_t output_size, ifx_se_fih_ptr_t output_length, void *ctx)</div><div class="ttdoc">Encrypt a message using a symmetric cipher with provided IV.</div><div class="ttdef"><b>Definition:</b> ifx_se_psacrypto.c:491</div></div>
<div class="ttc" id="agroup__constants__sizes_html_ga5fe733f9c479459aef5e84608c2e6250"><div class="ttname"><a href="group__constants__sizes.html#ga5fe733f9c479459aef5e84608c2e6250">IFX_SE_CIPHER_ENCRYPT_OUTPUT_SIZE</a></div><div class="ttdeci">#define IFX_SE_CIPHER_ENCRYPT_OUTPUT_SIZE(key_type, alg, input_length)</div><div class="ttdoc">The maximum size of the output of ifx_se_cipher_encrypt(), in bytes.</div><div class="ttdef"><b>Definition:</b> ifx_se_psacrypto_sizes.h:823</div></div>
<div class="ttc" id="agroup__constants__sizes_html_ga932d510c0ff49d175395c01acb03c62d"><div class="ttname"><a href="group__constants__sizes.html#ga932d510c0ff49d175395c01acb03c62d">IFX_SE_CIPHER_IV_MAX_SIZE</a></div><div class="ttdeci">#define IFX_SE_CIPHER_IV_MAX_SIZE</div><div class="ttdoc">The maximum IV size for all supported cipher algorithms, in bytes.</div><div class="ttdef"><b>Definition:</b> ifx_se_psacrypto_sizes.h:798</div></div>
<div class="ttc" id="agroup__constants__sizes_html_gaf2ea52a825d5762baa0d2b4227c2c852"><div class="ttname"><a href="group__constants__sizes.html#gaf2ea52a825d5762baa0d2b4227c2c852">IFX_SE_CIPHER_DECRYPT_OUTPUT_SIZE</a></div><div class="ttdeci">#define IFX_SE_CIPHER_DECRYPT_OUTPUT_SIZE(key_type, alg, input_length)</div><div class="ttdoc">The maximum size of the output of ifx_se_cipher_decrypt(), in bytes.</div><div class="ttdef"><b>Definition:</b> ifx_se_psacrypto_sizes.h:868</div></div>
<div class="ttc" id="agroup__crypto__algs_html_ga155086173391bf986ae11a1c5470c524"><div class="ttname"><a href="group__crypto__algs.html#ga155086173391bf986ae11a1c5470c524">ifx_se_set_key_algorithm</a></div><div class="ttdeci">static void ifx_se_set_key_algorithm(ifx_se_key_attributes_t *attributes, ifx_se_algorithm_t alg)</div><div class="ttdoc">Sets key algorithm in key attributes structure.</div><div class="ttdef"><b>Definition:</b> ifx_se_psacrypto_struct.h:382</div></div>
<div class="ttc" id="agroup__crypto__algs_html_gae2393aa83af9bcdf8b1800cd3889e871"><div class="ttname"><a href="group__crypto__algs.html#gae2393aa83af9bcdf8b1800cd3889e871">IFX_SE_ALG_CBC_NO_PADDING</a></div><div class="ttdeci">#define IFX_SE_ALG_CBC_NO_PADDING</div><div class="ttdoc">The CBC block cipher chaining mode, with no padding.</div><div class="ttdef"><b>Definition:</b> ifx_se_psacrypto_values.h:1220</div></div>
<div class="ttc" id="agroup__crypto__types_html_ga666a9c5f33dc3223aa48bea5a038c61b"><div class="ttname"><a href="group__crypto__types.html#ga666a9c5f33dc3223aa48bea5a038c61b">IFX_SE_KEY_TYPE_AES</a></div><div class="ttdeci">#define IFX_SE_KEY_TYPE_AES</div><div class="ttdoc">Key for a cipher, AEAD or MAC algorithm based on the AES block cipher.</div><div class="ttdef"><b>Definition:</b> ifx_se_psacrypto_values.h:482</div></div>
<div class="ttc" id="agroup__crypto__types_html_gacb87ac6dea9c169a8fbcb5280fbdb1f3"><div class="ttname"><a href="group__crypto__types.html#gacb87ac6dea9c169a8fbcb5280fbdb1f3">ifx_se_set_key_type</a></div><div class="ttdeci">static void ifx_se_set_key_type(ifx_se_key_attributes_t *attributes, ifx_se_key_type_t type)</div><div class="ttdoc">Sets key type in key attributes structure.</div><div class="ttdef"><b>Definition:</b> ifx_se_psacrypto_struct.h:443</div></div>
<div class="ttc" id="agroup__crypto__types_html_gae468f6a33a7165803fecc629cefd4269"><div class="ttname"><a href="group__crypto__types.html#gae468f6a33a7165803fecc629cefd4269">ifx_se_set_key_bits</a></div><div class="ttdeci">static void ifx_se_set_key_bits(ifx_se_key_attributes_t *attributes, size_t bits)</div><div class="ttdoc">Sets key length in bits in key attributes structure.</div><div class="ttdef"><b>Definition:</b> ifx_se_psacrypto_struct.h:465</div></div>
<div class="ttc" id="agroup__import__export_html_ga088fb56ab03f918b7c10a29c7934100b"><div class="ttname"><a href="group__import__export.html#ga088fb56ab03f918b7c10a29c7934100b">ifx_se_generate_key</a></div><div class="ttdeci">ifx_se_status_t ifx_se_generate_key(const ifx_se_key_attributes_t *attributes, ifx_se_fih_ptr_t key, void *ctx)</div><div class="ttdoc">Generate a key or key pair.</div><div class="ttdef"><b>Definition:</b> ifx_se_psacrypto.c:773</div></div>
<div class="ttc" id="agroup__import__export_html_ga339bef7d5ba64501be36e9564704c5c6"><div class="ttname"><a href="group__import__export.html#ga339bef7d5ba64501be36e9564704c5c6">ifx_se_destroy_key</a></div><div class="ttdeci">ifx_se_status_t ifx_se_destroy_key(ifx_se_key_id_fih_t key, void *ctx)</div><div class="ttdoc">Destroy a key.</div><div class="ttdef"><b>Definition:</b> ifx_se_psacrypto.c:734</div></div>
<div class="ttc" id="agroup__key__attributes_html_ga5ad00c2092aaa27fc2a8fee1dedfadbc"><div class="ttname"><a href="group__key__attributes.html#ga5ad00c2092aaa27fc2a8fee1dedfadbc">IFX_SE_KEY_ATTRIBUTES_INIT</a></div><div class="ttdeci">#define IFX_SE_KEY_ATTRIBUTES_INIT</div><div class="ttdoc">The initial value of the key attributes.</div><div class="ttdef"><b>Definition:</b> ifx_se_psacrypto_struct.h:239</div></div>
<div class="ttc" id="agroup__key__attributes_html_gad1ded78e935cd08ba08a5a27c003d7b3"><div class="ttname"><a href="group__key__attributes.html#gad1ded78e935cd08ba08a5a27c003d7b3">ifx_se_key_attributes_t</a></div><div class="ttdeci">struct ifx_se_key_attributes_s ifx_se_key_attributes_t</div><div class="ttdoc">The type of a structure containing key attributes.</div><div class="ttdef"><b>Definition:</b> ifx_se_psacrypto_types.h:465</div></div>
<div class="ttc" id="agroup__key__lifetimes_html_ga417f6e43ee077920c2014d589f324249"><div class="ttname"><a href="group__key__lifetimes.html#ga417f6e43ee077920c2014d589f324249">ifx_se_set_key_lifetime</a></div><div class="ttdeci">static void ifx_se_set_key_lifetime(ifx_se_key_attributes_t *attributes, ifx_se_key_lifetime_t lifetime)</div><div class="ttdoc">Sets key lifetime in key attributes structure.</div><div class="ttdef"><b>Definition:</b> ifx_se_psacrypto_struct.h:300</div></div>
<div class="ttc" id="agroup__key__lifetimes_html_ga41a2fa2e9004c5c04383f063c5247860"><div class="ttname"><a href="group__key__lifetimes.html#ga41a2fa2e9004c5c04383f063c5247860">IFX_SE_KEY_PERSISTENCE_VOLATILE</a></div><div class="ttdeci">#define IFX_SE_KEY_PERSISTENCE_VOLATILE</div><div class="ttdoc">The persistence level of volatile keys.</div><div class="ttdef"><b>Definition:</b> ifx_se_psacrypto_values.h:2339</div></div>
<div class="ttc" id="agroup__key__lifetimes_html_ga631c180f4fec5f6f33d59ded4b74f64c"><div class="ttname"><a href="group__key__lifetimes.html#ga631c180f4fec5f6f33d59ded4b74f64c">IFX_SE_KEY_LIFETIME_FROM_PERSISTENCE_AND_LOCATION</a></div><div class="ttdeci">#define IFX_SE_KEY_LIFETIME_FROM_PERSISTENCE_AND_LOCATION(persistence, location)</div><div class="ttdoc">Construct a lifetime from a persistence level and a location.</div><div class="ttdef"><b>Definition:</b> ifx_se_psacrypto_values.h:2411</div></div>
<div class="ttc" id="agroup__key__lifetimes_html_ga718e9471a55b05f2ed1c2deefba4fda6"><div class="ttname"><a href="group__key__lifetimes.html#ga718e9471a55b05f2ed1c2deefba4fda6">IFX_SE_KEY_LOCATION_SE</a></div><div class="ttdeci">#define IFX_SE_KEY_LOCATION_SE</div><div class="ttdoc">The SE RT Services storage area.</div><div class="ttdef"><b>Definition:</b> ifx_se_psacrypto_values.h:2431</div></div>
<div class="ttc" id="agroup__key__policy_html_ga014b0b9497d9644e95cd23177ba24f90"><div class="ttname"><a href="group__key__policy.html#ga014b0b9497d9644e95cd23177ba24f90">ifx_se_set_key_usage_flags</a></div><div class="ttdeci">static void ifx_se_set_key_usage_flags(ifx_se_key_attributes_t *attributes, ifx_se_key_usage_t usage_flags)</div><div class="ttdoc">Sets key usage flags in key attributes structure.</div><div class="ttdef"><b>Definition:</b> ifx_se_psacrypto_struct.h:353</div></div>
<div class="ttc" id="agroup__key__policy_html_ga943d38f66cd37626b8ced5ba81e48fdf"><div class="ttname"><a href="group__key__policy.html#ga943d38f66cd37626b8ced5ba81e48fdf">IFX_SE_KEY_USAGE_DECRYPT</a></div><div class="ttdeci">#define IFX_SE_KEY_USAGE_DECRYPT</div><div class="ttdoc">Whether the key may be used to decrypt a message.</div><div class="ttdef"><b>Definition:</b> ifx_se_psacrypto_values.h:2530</div></div>
<div class="ttc" id="agroup__key__policy_html_gaacd41a9ee857d3c8cd33aefb1ad0aa9f"><div class="ttname"><a href="group__key__policy.html#gaacd41a9ee857d3c8cd33aefb1ad0aa9f">IFX_SE_KEY_USAGE_ENCRYPT</a></div><div class="ttdeci">#define IFX_SE_KEY_USAGE_ENCRYPT</div><div class="ttdoc">Whether the key may be used to encrypt a message.</div><div class="ttdef"><b>Definition:</b> ifx_se_psacrypto_values.h:2519</div></div>
<div class="ttc" id="agroup__random_html_ga1c63b29c327ee3e073bfa1d4e6ed502d"><div class="ttname"><a href="group__random.html#ga1c63b29c327ee3e073bfa1d4e6ed502d">ifx_se_generate_random</a></div><div class="ttdeci">ifx_se_status_t ifx_se_generate_random(ifx_se_fih_ptr_t output, ifx_se_fih_t output_size, void *ctx)</div><div class="ttdoc">Generate random bytes.</div><div class="ttdef"><b>Definition:</b> ifx_se_psacrypto.c:794</div></div>
</div><!-- fragment --><h3><a class="anchor" id="autotoc_md10"></a>
Code snippet: Generate random ECC P256 key and use it for hash sign and verify operations</h3>
<div class="fragment"><div class="line">{</div>
<div class="line"><span class="preprocessor">    #define ECP_CURVE_BITS                (256u)</span></div>
<div class="line">    <a class="code hl_typedef" href="group__key__attributes.html#ga40f81e5fa5d5b8c64b81b49d60ccc6dc">ifx_se_key_id_fih_t</a> eccKeyId;</div>
<div class="line">    <a class="code hl_typedef" href="group__key__attributes.html#gad1ded78e935cd08ba08a5a27c003d7b3">ifx_se_key_attributes_t</a> eccAttributes = <a class="code hl_define" href="group__key__attributes.html#ga5ad00c2092aaa27fc2a8fee1dedfadbc">IFX_SE_KEY_ATTRIBUTES_INIT</a>;</div>
<div class="line">    <span class="comment">/* Pre-calculated SHA-256 hash */</span></div>
<div class="line">    CY_ALIGN(4) uint8_t hash[<a class="code hl_define" href="group__constants__sizes.html#gacf3d12460006bc833f9e0d84155ca86b">IFX_SE_HASH_LENGTH</a>(<a class="code hl_define" href="group__crypto__algs.html#gadcc8ddfd60433866f8dea0925c1fa1b7">IFX_SE_ALG_SHA_256</a>)] = {0, 1, 2, 3, 4, 5};</div>
<div class="line">    CY_ALIGN(4) uint8_t signature[<a class="code hl_define" href="group__constants__sizes.html#gab15d9c8f7f362a839301c8187eae78c5">IFX_SE_ECDSA_SIGNATURE_SIZE</a>(ECP_CURVE_BITS)] = {0};</div>
<div class="line">    uint32_t signature_length;</div>
<div class="line"> </div>
<div class="line">    <span class="comment">/* Set ECC key attributes */</span></div>
<div class="line">    <a class="code hl_function" href="group__key__policy.html#ga014b0b9497d9644e95cd23177ba24f90">ifx_se_set_key_usage_flags</a>(&amp;eccAttributes, <a class="code hl_define" href="group__key__policy.html#ga7a2f42a21b65a0108b3f92832b41ad8d">IFX_SE_KEY_USAGE_SIGN_HASH</a> | <a class="code hl_define" href="group__key__policy.html#gaa3c223edc514126af12fda453b2adc90">IFX_SE_KEY_USAGE_VERIFY_HASH</a>);</div>
<div class="line">    <a class="code hl_function" href="group__crypto__algs.html#ga155086173391bf986ae11a1c5470c524">ifx_se_set_key_algorithm</a>(&amp;eccAttributes, <a class="code hl_define" href="group__crypto__algs.html#gab2094275c1c29ed54b33e88db81c26be">IFX_SE_ALG_ECDSA</a>(<a class="code hl_define" href="group__crypto__algs.html#gadcc8ddfd60433866f8dea0925c1fa1b7">IFX_SE_ALG_SHA_256</a>));</div>
<div class="line">    <a class="code hl_function" href="group__crypto__types.html#gacb87ac6dea9c169a8fbcb5280fbdb1f3">ifx_se_set_key_type</a>(&amp;eccAttributes, <a class="code hl_define" href="group__crypto__types.html#gae6c9176de74920d61e06da98db9f42df">IFX_SE_KEY_TYPE_ECC_KEY_PAIR</a>(<a class="code hl_define" href="group__crypto__types.html#gad17d8f5a553f11e6fe33df0b8c66c6d2">IFX_SE_ECC_FAMILY_SECP_R1</a>));</div>
<div class="line">    <a class="code hl_function" href="group__crypto__types.html#gae468f6a33a7165803fecc629cefd4269">ifx_se_set_key_bits</a>(&amp;eccAttributes, ECP_CURVE_BITS);</div>
<div class="line">    <a class="code hl_function" href="group__key__lifetimes.html#ga417f6e43ee077920c2014d589f324249">ifx_se_set_key_lifetime</a>(&amp;eccAttributes, <a class="code hl_define" href="group__key__lifetimes.html#ga631c180f4fec5f6f33d59ded4b74f64c">IFX_SE_KEY_LIFETIME_FROM_PERSISTENCE_AND_LOCATION</a>(</div>
<div class="line">                                            <a class="code hl_define" href="group__key__lifetimes.html#ga41a2fa2e9004c5c04383f063c5247860">IFX_SE_KEY_PERSISTENCE_VOLATILE</a>, <a class="code hl_define" href="group__key__lifetimes.html#ga718e9471a55b05f2ed1c2deefba4fda6">IFX_SE_KEY_LOCATION_SE</a>));</div>
<div class="line"> </div>
<div class="line">    <span class="comment">/* Generate ECC key */</span></div>
<div class="line">    status = <a class="code hl_function" href="group__import__export.html#ga088fb56ab03f918b7c10a29c7934100b">ifx_se_generate_key</a>(&amp;eccAttributes,</div>
<div class="line">                                 <a class="code hl_function" href="group__fih.html#ga2fb22f43e081341ad3459facb8603b1a">ifx_se_fih_ptr_encode</a>(&amp;eccKeyId),</div>
<div class="line">                                 <a class="code hl_define" href="group__syscall__macros.html#ga91c965d62be71574f5aaea48996b74c7">IFX_SE_NULL_CTX</a>);</div>
<div class="line">    <span class="comment">/* Sign existing hash */</span></div>
<div class="line">    status = <a class="code hl_function" href="group__async__operations.html#ga9a357621153662289ed7ad1eef7fff1d">ifx_se_sign_hash</a>(eccKeyId,</div>
<div class="line">                              <a class="code hl_function" href="group__fih.html#gac1e7e38894ec44ec37b1aa144ee5560e">ifx_se_fih_uint_encode</a>(<a class="code hl_define" href="group__crypto__algs.html#gab2094275c1c29ed54b33e88db81c26be">IFX_SE_ALG_ECDSA</a>(<a class="code hl_define" href="group__crypto__algs.html#gadcc8ddfd60433866f8dea0925c1fa1b7">IFX_SE_ALG_SHA_256</a>)),</div>
<div class="line">                              <a class="code hl_function" href="group__fih.html#ga2fb22f43e081341ad3459facb8603b1a">ifx_se_fih_ptr_encode</a>(hash),</div>
<div class="line">                              <a class="code hl_function" href="group__fih.html#gac1e7e38894ec44ec37b1aa144ee5560e">ifx_se_fih_uint_encode</a>(<span class="keyword">sizeof</span>(hash)),</div>
<div class="line">                              <a class="code hl_function" href="group__fih.html#ga2fb22f43e081341ad3459facb8603b1a">ifx_se_fih_ptr_encode</a>(signature),</div>
<div class="line">                              <a class="code hl_function" href="group__fih.html#gac1e7e38894ec44ec37b1aa144ee5560e">ifx_se_fih_uint_encode</a>(<span class="keyword">sizeof</span>(signature)),</div>
<div class="line">                              <a class="code hl_function" href="group__fih.html#ga2fb22f43e081341ad3459facb8603b1a">ifx_se_fih_ptr_encode</a>(&amp;signature_length),</div>
<div class="line">                              <a class="code hl_define" href="group__syscall__macros.html#ga91c965d62be71574f5aaea48996b74c7">IFX_SE_NULL_CTX</a>);</div>
<div class="line">    <span class="comment">/* Verify signature */</span></div>
<div class="line">    status = <a class="code hl_function" href="group__async__operations.html#ga9e6ad90cb5790ed2871ff8ecd7c26ef7">ifx_se_verify_hash</a>(eccKeyId,</div>
<div class="line">                                <a class="code hl_function" href="group__fih.html#gac1e7e38894ec44ec37b1aa144ee5560e">ifx_se_fih_uint_encode</a>(<a class="code hl_define" href="group__crypto__algs.html#gab2094275c1c29ed54b33e88db81c26be">IFX_SE_ALG_ECDSA</a>(<a class="code hl_define" href="group__crypto__algs.html#gadcc8ddfd60433866f8dea0925c1fa1b7">IFX_SE_ALG_SHA_256</a>)),</div>
<div class="line">                                <a class="code hl_function" href="group__fih.html#ga2fb22f43e081341ad3459facb8603b1a">ifx_se_fih_ptr_encode</a>(hash),</div>
<div class="line">                                <a class="code hl_function" href="group__fih.html#gac1e7e38894ec44ec37b1aa144ee5560e">ifx_se_fih_uint_encode</a>(<span class="keyword">sizeof</span>(hash)),</div>
<div class="line">                                <a class="code hl_function" href="group__fih.html#ga2fb22f43e081341ad3459facb8603b1a">ifx_se_fih_ptr_encode</a>(signature),</div>
<div class="line">                                <a class="code hl_function" href="group__fih.html#gac1e7e38894ec44ec37b1aa144ee5560e">ifx_se_fih_uint_encode</a>(<span class="keyword">sizeof</span>(signature)),</div>
<div class="line">                                <a class="code hl_define" href="group__syscall__macros.html#ga91c965d62be71574f5aaea48996b74c7">IFX_SE_NULL_CTX</a>);</div>
<div class="line">    <span class="comment">/* ... check for errors ... */</span></div>
<div class="line">}</div>
<div class="ttc" id="agroup__async__operations_html_ga9a357621153662289ed7ad1eef7fff1d"><div class="ttname"><a href="group__async__operations.html#ga9a357621153662289ed7ad1eef7fff1d">ifx_se_sign_hash</a></div><div class="ttdeci">ifx_se_status_t ifx_se_sign_hash(ifx_se_key_id_fih_t key, ifx_se_alg_fih_t alg, const ifx_se_fih_ptr_t hash, ifx_se_fih_t hash_length, const ifx_se_fih_ptr_t signature, ifx_se_fih_t signature_size, ifx_se_fih_ptr_t signature_length, void *ctx)</div><div class="ttdoc">Sign a hash or short message with a private key.</div><div class="ttdef"><b>Definition:</b> ifx_se_psacrypto.c:34</div></div>
<div class="ttc" id="agroup__async__operations_html_ga9e6ad90cb5790ed2871ff8ecd7c26ef7"><div class="ttname"><a href="group__async__operations.html#ga9e6ad90cb5790ed2871ff8ecd7c26ef7">ifx_se_verify_hash</a></div><div class="ttdeci">ifx_se_status_t ifx_se_verify_hash(ifx_se_key_id_fih_t key, ifx_se_alg_fih_t alg, const ifx_se_fih_ptr_t hash, ifx_se_fih_t hash_length, const ifx_se_fih_ptr_t signature, ifx_se_fih_t signature_length, void *ctx)</div><div class="ttdoc">Verify the signature of a hash or short message using a public key.</div><div class="ttdef"><b>Definition:</b> ifx_se_psacrypto.c:67</div></div>
<div class="ttc" id="agroup__constants__sizes_html_gab15d9c8f7f362a839301c8187eae78c5"><div class="ttname"><a href="group__constants__sizes.html#gab15d9c8f7f362a839301c8187eae78c5">IFX_SE_ECDSA_SIGNATURE_SIZE</a></div><div class="ttdeci">#define IFX_SE_ECDSA_SIGNATURE_SIZE(curve_bits)</div><div class="ttdoc">ECDSA signature size for a given curve bit size.</div><div class="ttdef"><b>Definition:</b> ifx_se_psacrypto_sizes.h:528</div></div>
<div class="ttc" id="agroup__crypto__types_html_gad17d8f5a553f11e6fe33df0b8c66c6d2"><div class="ttname"><a href="group__crypto__types.html#gad17d8f5a553f11e6fe33df0b8c66c6d2">IFX_SE_ECC_FAMILY_SECP_R1</a></div><div class="ttdeci">#define IFX_SE_ECC_FAMILY_SECP_R1</div><div class="ttdoc">SEC random curves over prime fields.</div><div class="ttdef"><b>Definition:</b> ifx_se_psacrypto_values.h:602</div></div>
<div class="ttc" id="agroup__crypto__types_html_gae6c9176de74920d61e06da98db9f42df"><div class="ttname"><a href="group__crypto__types.html#gae6c9176de74920d61e06da98db9f42df">IFX_SE_KEY_TYPE_ECC_KEY_PAIR</a></div><div class="ttdeci">#define IFX_SE_KEY_TYPE_ECC_KEY_PAIR(curve)</div><div class="ttdoc">Elliptic curve key pair.</div><div class="ttdef"><b>Definition:</b> ifx_se_psacrypto_values.h:545</div></div>
<div class="ttc" id="agroup__key__policy_html_ga7a2f42a21b65a0108b3f92832b41ad8d"><div class="ttname"><a href="group__key__policy.html#ga7a2f42a21b65a0108b3f92832b41ad8d">IFX_SE_KEY_USAGE_SIGN_HASH</a></div><div class="ttdeci">#define IFX_SE_KEY_USAGE_SIGN_HASH</div><div class="ttdoc">Whether the key may be used to sign a message.</div><div class="ttdef"><b>Definition:</b> ifx_se_psacrypto_values.h:2560</div></div>
<div class="ttc" id="agroup__key__policy_html_gaa3c223edc514126af12fda453b2adc90"><div class="ttname"><a href="group__key__policy.html#gaa3c223edc514126af12fda453b2adc90">IFX_SE_KEY_USAGE_VERIFY_HASH</a></div><div class="ttdeci">#define IFX_SE_KEY_USAGE_VERIFY_HASH</div><div class="ttdoc">Whether the key may be used to verify a message signature.</div><div class="ttdef"><b>Definition:</b> ifx_se_psacrypto_values.h:2570</div></div>
</div><!-- fragment --><h1><a class="anchor" id="autotoc_md11"></a>
Supported memory regions</h1>
<p >SE RT Services can process data from different memory regions.</p>
<p >Memory regions that can have input data for processing:</p>
<table class="markdownTable">
<tr class="markdownTableHead">
<th class="markdownTableHeadLeft">Region   </th><th class="markdownTableHeadLeft">Address   </th><th class="markdownTableHeadLeft">Size    </th></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyLeft">SRAM0   </td><td class="markdownTableBodyLeft">SRAM0_S_SAHB_START   </td><td class="markdownTableBodyLeft">SRAM0_SIZE    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyLeft">SRAM1   </td><td class="markdownTableBodyLeft">SRAM1_S_SAHB_START   </td><td class="markdownTableBodyLeft">SRAM1_SIZE    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyLeft">SOCMEM_RAM   </td><td class="markdownTableBodyLeft">CY_SOCMEM_RAM_BASE   </td><td class="markdownTableBodyLeft">CY_SOCMEM_RAM_SIZE    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyLeft">XIP0   </td><td class="markdownTableBodyLeft">CY_XIP_PORT0_BASE   </td><td class="markdownTableBodyLeft">CY_XIP_PORT0_SIZE    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyLeft">XIP1   </td><td class="markdownTableBodyLeft">CY_XIP_PORT1_BASE   </td><td class="markdownTableBodyLeft">CY_XIP_PORT1_SIZE    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyLeft">NVM   </td><td class="markdownTableBodyLeft">CY_RRAM_CBUS_BASE   </td><td class="markdownTableBodyLeft">RRAM_SIZE   </td></tr>
</table>
<p >Memory regions that can be used for output data:</p>
<table class="markdownTable">
<tr class="markdownTableHead">
<th class="markdownTableHeadLeft">Region   </th><th class="markdownTableHeadLeft">Address   </th><th class="markdownTableHeadLeft">Size    </th></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyLeft">SRAM0   </td><td class="markdownTableBodyLeft">SRAM0_S_SAHB_START   </td><td class="markdownTableBodyLeft">SRAM0_SIZE    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyLeft">SRAM1   </td><td class="markdownTableBodyLeft">SRAM1_S_SAHB_START   </td><td class="markdownTableBodyLeft">SRAM1_SIZE    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyLeft">SOCMEM_RAM   </td><td class="markdownTableBodyLeft">CY_SOCMEM_RAM_BASE   </td><td class="markdownTableBodyLeft">CY_SOCMEM_RAM_SIZE   </td></tr>
</table>
<h1><a class="anchor" id="autotoc_md12"></a>
Key storage capacity</h1>
<p >SE RT Services have special internal storage to store persistent keys (with <a class="el" href="group__key__lifetimes.html#gad7e4022cb1c1dccd01d7dd019b565859">IFX_SE_KEY_PERSISTENCE_DEFAULT</a> in the lifetime key attribute).</p>
<p >Keys can be imported in two different phases according to key ID number range:</p><ul>
<li>User keys with Key ID in range [<a class="el" href="group__key__attributes.html#ga9be9d06f3147dece1c40e9b3b0083331">IFX_SE_KEY_ID_USER_MIN</a> - <a class="el" href="group__key__attributes.html#ga409feef067dd56c27aedbff40e0b611d">IFX_SE_KEY_ID_USER_MAX</a>] on runtime using <a class="el" href="group__import__export.html#ga8c4b3683086bedb13cf0ceb6f6b2c1f6">ifx_se_import_key</a></li>
<li>Vendor keys with key ID in range [<a class="el" href="group__key__attributes.html#ga91e0bea97df0db1383b589edeab4685f">IFX_SE_KEY_ID_VENDOR_MIN</a> - <a class="el" href="group__key__attributes.html#ga5936dc38ca52eabd186435026cefc94d">IFX_SE_KEY_ID_VENDOR_MAX</a>] during provisioning procedure</li>
</ul>
<p >User key storage allows to import and store up to 12 keys according to it size and type:</p>
<table class="markdownTable">
<tr class="markdownTableHead">
<th class="markdownTableHeadLeft">Data/Key type   </th><th class="markdownTableHeadRight">count    </th></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyLeft"><a class="el" href="group__crypto__types.html#ga666a9c5f33dc3223aa48bea5a038c61b">IFX_SE_KEY_TYPE_AES</a> (AES-128)   </td><td class="markdownTableBodyRight">12    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyLeft"><a class="el" href="group__crypto__types.html#ga666a9c5f33dc3223aa48bea5a038c61b">IFX_SE_KEY_TYPE_AES</a> (AES-256)   </td><td class="markdownTableBodyRight">9    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyLeft"><a class="el" href="group__crypto__types.html#ga954abb950069b6104f746304e1a17b79">IFX_SE_KEY_TYPE_DERIVE</a> (AES-128)   </td><td class="markdownTableBodyRight">12    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyLeft"><a class="el" href="group__crypto__types.html#ga954abb950069b6104f746304e1a17b79">IFX_SE_KEY_TYPE_DERIVE</a> (AES-256)   </td><td class="markdownTableBodyRight">9    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyLeft"><a class="el" href="group__crypto__types.html#gae6c9176de74920d61e06da98db9f42df">IFX_SE_KEY_TYPE_ECC_KEY_PAIR</a> (SECP-256R1)   </td><td class="markdownTableBodyRight">9    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyLeft"><a class="el" href="group__crypto__types.html#gad6f1d9a10f5b435c6ffe04de65047c78">IFX_SE_KEY_TYPE_ECC_PUBLIC_KEY</a> (SECP-256R1)   </td><td class="markdownTableBodyRight">12    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyLeft"><a class="el" href="group__crypto__types.html#gad6f1d9a10f5b435c6ffe04de65047c78">IFX_SE_KEY_TYPE_ECC_PUBLIC_KEY</a> (SECP-384R1)   </td><td class="markdownTableBodyRight">9    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyLeft"><a class="el" href="group__crypto__types.html#ga3cd7e66343104794895905cfd7235fdc">IFX_SE_KEY_TYPE_RSA_PUBLIC_KEY</a> (1024 bits)   </td><td class="markdownTableBodyRight">6    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyLeft"><a class="el" href="group__crypto__types.html#ga3cd7e66343104794895905cfd7235fdc">IFX_SE_KEY_TYPE_RSA_PUBLIC_KEY</a> (2048 bits)   </td><td class="markdownTableBodyRight">3    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyLeft"><a class="el" href="group__crypto__types.html#ga3cd7e66343104794895905cfd7235fdc">IFX_SE_KEY_TYPE_RSA_PUBLIC_KEY</a> (3072 bits)   </td><td class="markdownTableBodyRight">2    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyLeft"><a class="el" href="group__crypto__types.html#ga3cd7e66343104794895905cfd7235fdc">IFX_SE_KEY_TYPE_RSA_PUBLIC_KEY</a> (4096 bits)   </td><td class="markdownTableBodyRight">2    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyLeft"><a class="el" href="group__crypto__types.html#ga2f3f8cf749aa6dc07c6e6c7d83afeb35">IFX_SE_KEY_TYPE_RAW_DATA</a> (1 - 65 bytes)   </td><td class="markdownTableBodyRight">12   </td></tr>
</table>
<p >Maximal size of the single <a class="el" href="group__crypto__types.html#ga2f3f8cf749aa6dc07c6e6c7d83afeb35">IFX_SE_KEY_TYPE_RAW_DATA</a> object is 564 bytes.</p>
<p >Vendor keys storage allows to provision up to 16 keys.</p>
<p >Persistent AES keys have usage limitation up to 100k times per key implemented using internal rollback counters. These counters can be red by <a class="el" href="group__platform__rollbacks.html#gab149aee7c8336add6cd04f25e931f08d">ifx_se_get_usage_limit_counter</a>. After using limit key should be destroyed by <a class="el" href="group__import__export.html#ga339bef7d5ba64501be36e9564704c5c6">ifx_se_destroy_key</a>.</p>
<dl class="section note"><dt>Note</dt><dd>SE RT Services have only 16 usage limit counters for ALL AES keys. </dd>
<dd>
E.g. if device provisioned with 8 AES Vendor keys, only 8 limit counters left to use for imported AES User keys. </dd>
<dd>
AES crypto limits the usage of non-volatile keys to 100k blocks of operation. For side channel protection reasons user applications should limit the usage of volatile keys also to 100k, or use other protective measures.</dd></dl>
<h1><a class="anchor" id="autotoc_md13"></a>
Performance</h1>
<p >PSA Crypto API benchmark for the PSOC Edge E84 device with the SE core frequency set to 100 Mhz:</p>
<table class="markdownTable">
<tr class="markdownTableHead">
<th class="markdownTableHeadLeft">Algorithm   </th><th class="markdownTableHeadLeft">Execution time    </th></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyLeft">SHA-256   </td><td class="markdownTableBodyLeft">8 ms/100kB payload    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyLeft">AES-CBC-128   </td><td class="markdownTableBodyLeft">202 ms/10kB payload    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyLeft">AES-CBC-256   </td><td class="markdownTableBodyLeft">277 ms/10kB payload    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyLeft">AES-CTR-128   </td><td class="markdownTableBodyLeft">200 ms/10kB payload    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyLeft">AES-CTR-256   </td><td class="markdownTableBodyLeft">275 ms/10kB payload    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyLeft">ECDSA-secp256r1   </td><td class="markdownTableBodyLeft">220 ms/sign    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyLeft">ECDSA-secp256r1   </td><td class="markdownTableBodyLeft">170 ms/verify    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyLeft">ECDSA-secp384r1   </td><td class="markdownTableBodyLeft">340 ms/verify    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyLeft">ECDSA-secp521r1   </td><td class="markdownTableBodyLeft">700 ms/verify   </td></tr>
</table>
<h1><a class="anchor" id="autotoc_md14"></a>
More information</h1>
<p >The following resources contain more information:</p><ul>
<li><a class="el" href="md_RELEASE.html">SE RT Services Utilities Library RELEASE.md</a></li>
<li><a href="https://www.infineon.com/cms/en/design-support/tools/sdk/modustoolbox-software/">ModusToolbox Software Environment, Quick Start Guide, Documentation, and Videos</a></li>
<li><a href="http://www.infineon.com">Infineon Technologies AG</a></li>
</ul>
<hr  />
<p>  Cypress Semiconductor Corporation (an Infineon company), 2023-2025. </p>
</div></div><!-- PageDoc -->
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part
<div id="nav-path" class="navpath">
    <ul>
        <li class="footer">
            Generated for <b>SE RT Services Utilities library</b> by <b>Cypress Semiconductor Corporation</b>.
            All rights reserved.
        </li>
    </ul>
</div>
-->
</body>
</html>
